{"version":3,"sources":["webpack:///../src/components/Modal/Modal.mdx","webpack:///../node_modules/regenerator-runtime/runtime.js","webpack:///../node_modules/@babel/runtime/regenerator/index.js","webpack:///../src/hooks/useForceUpdate.ts","webpack:///../src/components/LoadingIndicators/Dots.tsx","webpack:///../src/components/Button/Button.tsx","webpack:///../src/components/Helpers/Toggle.tsx","webpack:///../node_modules/focus-trap/index.js","webpack:///../node_modules/tabbable/index.js","webpack:///../node_modules/xtend/immutable.js","webpack:///../node_modules/exenv/index.js","webpack:///../node_modules/react-spring/web.cjs.js","webpack:///../src/hooks/useElement.ts","webpack:///../src/hooks/useLockBodyScroll.ts","webpack:///../src/components/Modal/Modal.web.tsx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","__position","__code","__scope","Playground","Props","Modal","Box","Text","Button","Toggle","initial","on","set","toggle","visible","animationType","onRequestClose","height","onPress","title","outerOn","outerSet","innerOn","innerSet","useHistory","of","isMDXComponent","runtime","exports","undefined","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","GenStateSuspendedStart","method","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","GenStateSuspendedYield","value","makeInvokeMethod","fn","obj","call","err","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","Promise","resolve","reject","invoke","result","__await","then","unwrapped","error","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","constructor","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","toString","keys","object","key","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","Function","reducer","action","useForceUpdate","dispatch","React","useReducer","useCallback","AnimatedView","animated","View","Dots","theme","useTheme","size","color","colors","text","primary","forceUpdate","trail","useTrail","config","duration","from","opacity","onRest","to","a","style","alignItems","flexDirection","justifyContent","map","index","backgroundColor","borderRadius","marginLeft","marginRight","width","appearance","isDisabled","isLoading","testID","overrides","getOverrides","StyledTouchable","dlv","Touchable","touchableProps","StyledTitle","Title","titleProps","StyledLoading","Loading","loadingProps","StyledIcon","IconBefore","iconBeforeProps","IconAfter","iconAfterProps","children","buttonAppearances","minimal","default","background","content","danger","secondary","greyLight","button","dangerLight","primaryLight","secondaryLight","outline","borderColor","borderWidth","border","getButtonAppearances","isControlSize","controlBorderRadius","minHeight","controlHeights","paddingLeft","controlPaddings","paddingRight","medium","TouchableOpacity","accessibilityRole","disabled","getButtonTextColor","defaultText","dangerText","primaryText","secondaryText","textProps","textSize","textSizes","weight","muted","display","fontWeight","textAlign","paddingHorizontal","getStyle","useState","isOn","setIsOn","handleToggle","handleSet","activeFocusDelay","trapQueue","tabbable","xtend","activeFocusTraps","activateTrap","trap","activeTrap","pause","trapIndex","indexOf","splice","deactivateTrap","unpause","delay","setTimeout","element","userOptions","doc","document","container","querySelector","returnFocusOnDeactivate","escapeDeactivates","firstTabbableNode","lastTabbableNode","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","active","paused","activate","activateOptions","updateTabbableNodes","activeElement","onActivate","addListeners","deactivate","removeListeners","deactivateOptions","clearTimeout","onDeactivate","returnFocus","tryFocus","getInitialFocusNode","addEventListener","checkFocusIn","checkPointerDown","capture","passive","checkClick","checkKey","removeEventListener","getNodeForOption","optionName","optionValue","node","contains","e","target","clickOutsideDeactivates","isFocusable","allowOutsideClick","preventDefault","Document","stopImmediatePropagation","keyCode","isEscapeEvent","isTabEvent","shiftKey","checkTab","tabbableNodes","focus","tagName","toLowerCase","select","isSelectableInput","candidateSelectors","candidateSelector","join","matches","Element","msMatchesSelector","webkitMatchesSelector","el","options","candidate","candidateTabindex","regularTabbables","orderedTabbables","candidates","querySelectorAll","includeContainer","Array","apply","unshift","isNodeMatchingSelectorTabbable","getTabindex","documentOrder","tabIndex","sort","sortOrderedTabbables","concat","isNodeMatchingSelectorFocusable","isInput","isRadio","checked","nodes","getCheckedRadio","ownerDocument","isTabbableRadio","isNonTabbableRadio","isHiddenInput","offsetParent","getComputedStyle","visibility","isHidden","isTabbable","focusableCandidateSelector","tabindexAttr","parseInt","getAttribute","contentEditable","isContentEditable","b","arguments","source","canUseDOM","window","createElement","ExecutionEnvironment","canUseWorkers","Worker","canUseEventListeners","attachEvent","canUseViewport","screen","_interopDefault","ex","defineProperty","_extends","_objectWithoutPropertiesLoose","React__default","_inheritsLoose","_assertThisInitialized","is","arr","isArray","fun","str","num","und","nul","boo","Set","Map","equ","f","v","withDefault","defaultValue","toArray","callProp","_len","args","_key","interpolateTo","forward","onStart","onFrame","cancel","force","immediate","attach","destroyed","ref","lazy","getForwardProps","entries","reduce","_ref","fillArray","mapIndex","applyAnimatedValues","colorNames","Animated","payload","_proto","getAnimatedValue","getValue","getPayload","detach","getChildren","addChild","child","removeChild","AnimatedArray","_Animated","_this","p","AnimatedObject","_Animated2","_this2","_len3","_key3","s","_proto2","_key4","injectApplyAnimatedValues","transform","injectColorNames","names","interpolation","requestFrame","cb","requestAnimationFrame","cancelFrame","id","cancelAnimationFrame","injectStringInterpolator","defaultElement","now","Date","injectDefaultElement","createAnimatedStyle","manualFrameloop","animatedApi","current","injectCreateAnimatedStyle","factory","Globals","freeze","injectFrame","raf","caf","injectNow","nowFn","injectAnimatedApi","injectManualFrameloop","callback","AnimatedProps","_AnimatedObject","update","createInterpolator","range","output","extrapolate","outputRange","inputRange","extrapolateLeft","extrapolateRight","easing","t","input","findRange","inputMin","inputMax","outputMin","outputMax","Infinity","interpolate","AnimatedInterpolation","_AnimatedArray","parents","calc","AnimatedValue","_value","animatedStyles","startPosition","lastPosition","lastVelocity","startTime","lastTime","setValue","flush","addAnimatedStyles","styles","add","animatedStyle","clearStyles","clear","isActive","AnimatedValueArray","controllers","time","_iterator","_isArray","_i","controller","updateCount","configIdx","configs","endOfAnimation","valIdx","animatedValues","toValues","isAnimated","fromValues","position","velocity","initialVelocity","decay","Math","exp","abs","numSteps","floor","tension","friction","mass","isOvershooting","clamp","isVelocity","precision","isDisplacement","linear","emptyObj","nextId","Controller","idle","queue","timestamps","merged","animations","onEndQueue","runCount","start","propsArg","_ensureAnimated","timestamp","_to","max","round","onEnd","_flush","_start","_key2","finished","_keys","_loop","_ref2","findIndex","_stopAnimation","_ret","_stop","destroy","setProp","createAnimated","console","warn","_onEnd","reduceDelays","runsLeft","onRunEnd","_run","_runAsync","_diff","_animate","_ref3","_this3","asyncTo","last","isCancelled","bind","_ref4","_this4","changed","diffProp","parent","keyPath","previous","lastKey","oldValue","_key5","_isModified","prop","_this5","_this$props","_this$props$from","_this$props$to","isPrevented","_","started","_key6","goalValue","computeGoalValue","some","fromValue","isInterpolated","isAnimatableString","moveChildren","_key7","_ref6","copy","_extends2","find","merge$1","assign","dest","src","startsWith","test","useSprings","mounted","useRef","ctrl","isFn","_useMemo","useMemo","c","all","r","setProps","api","useImperativeHandle","useEffect","animatedProps","useSpring","_useSprings","updateProps","instances","updateCtrl","attachIdx","attachController","guid","INITIAL","ENTER","UPDATE","LEAVE","makeKeys","items","String","makeConfig","rest","useTransition","keyTransform","_props","_props$lazy","onDestroyed","unique","enter","leave","_onRest","extra","first","deleted","transitions","prevProps","_ref10","_props$trail","_props$order","order","_makeConfig","_items","currentKeys","currentSet","nextSet","addedKeys","filter","has","updatedKeys","deletedKeys","originalKey","_loop2","phase","shift","d","item","enterProps","leaveProps","left","right","out","failedTries","passIndex","nextPassIndex","j","_deleted$j","_deletedItem","_index","_deleted$i","deletedItem","_j","reconcileDeleted","diffItems","transition","get","itemProps","cleanUp","animation","_ref5","_ref7","filterKey","_ref9","AnimatedStyle","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","NUMBER","PERCENTAGE","parts","rgb","RegExp","rgba","hsl","hsla","hex3","hex4","hex6","hex8","hue2rgb","q","hslToRgb","h","l","g","parse255","_int","parse360","parseFloat","parse1","parsePercentage","_int3","colorToRgba","match","int32Color","exec","stringShapeRegex","colorRegex","colorNamesRegex","isUnitlessNumber","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","lineClamp","lineHeight","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","prefixes","dangerousStyleValue","isCustomProperty","trim","acc","prefix","toUpperCase","substring","prefixKey","attributeCache","rangeValue","replace","outputRanges","number","interpolations","p1","p2","p3","p4","instance","nodeType","setAttribute","scrollTop","scrollLeft","attributes","nodeName","parentNode","styleName","textContent","styleValue","setProperty","dashCase","n","lowercase","Component","forwardRef","propsAnimated","attachProps","oldPropsAnimated","_getValue","childRef","handleRef","extendedAnimated","gentle","wobbly","stiff","slow","molasses","useChain","refs","timeSteps","timeFrame","prevDelay","_ref$current","updates","_ctrl$queue","Spring","Trail","trails","Transition","_ref3$keys","slot","useElement","rootElem","rootElement","rootContainer","body","lastElementChild","insertBefore","nextElementSibling","appendChild","remove","childNodes","useLockBodyScroll","isLocked","originalStyle","overflow","unlock","modalId","HistoryModal","componentDidUpdate","previousProps","updateBrowserHistory","handleManuallyClosed","componentWillUnmount","clearBrowserState","history","modal","pushState","handlePopstate","event","go","handleEscapeKey","replaceState","render","modalProps","ModalBase","shouldLockBodyScroll","isUnmountingRef","targetElement","isInView","setIsInView","elementRef","focusTrapRef","deactivateFocus","createFocusTrap","initialFocus","springDefaultConfig","y","ReactDOM","createPortal","div","bottom","top"],"mappings":"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","file":"component---src-components-modal-modal-mdx-834492ba8a439c86eb03.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/WeTrustPlatform/paramount/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nimport { Playground, Props } from 'docz';\nimport { Modal } from './Modal';\nimport { Box } from '../Box';\nimport { Text } from '../Typography';\nimport { Button } from '../Button';\nimport { Toggle } from '../Helpers';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n\n    <h1 {...{\n      \"id\": \"modal\"\n    }}>{`Modal`}</h1>\n    <p>{`Modal covers the full screen. For a prompt/small version of modal, use `}<inlineCode parentName=\"p\">{`Dialog`}</inlineCode></p>\n    <h2 {...{\n      \"id\": \"usage\"\n    }}>{`Usage`}</h2>\n    <Playground __position={0} __code={'<Toggle initial={false}>\\n  {({ on, toggle, set }) => (\\n    <Box>\\n      <Modal\\n        visible={on}\\n        animationType=\\\"slide\\\"\\n        onRequestClose={() => set(false)}\\n      >\\n        <Box height={1800}>\\n          <Text>Put any content in the modal</Text>\\n          <Button onPress={() => set(false)} title=\\\"Close button one\\\" />\\n          <Button onPress={() => set(false)} title=\\\"Close button two\\\" />\\n        </Box>\\n      </Modal>\\n      <Button onPress={() => set(true)} title=\\\"Open modal\\\" />\\n    </Box>\\n  )}\\n</Toggle>'} __scope={{\n      props,\n      DefaultLayout,\n      Playground,\n      Props,\n      Modal,\n      Box,\n      Text,\n      Button,\n      Toggle\n    }} mdxType=\"Playground\">\n  <Toggle initial={false} mdxType=\"Toggle\">\n    {({\n          on,\n          toggle,\n          set\n        }) => <Box mdxType=\"Box\">\n        <Modal visible={on} animationType=\"slide\" onRequestClose={() => set(false)} mdxType=\"Modal\">\n          <Box height={1800} mdxType=\"Box\">\n            <Text mdxType=\"Text\">Put any content in the modal</Text>\n            <Button onPress={() => set(false)} title=\"Close button one\" mdxType=\"Button\" />\n            <Button onPress={() => set(false)} title=\"Close button two\" mdxType=\"Button\" />\n          </Box>\n        </Modal>\n        <Button onPress={() => set(true)} title=\"Open modal\" mdxType=\"Button\" />\n      </Box>}\n  </Toggle>\n    </Playground>\n    <h3 {...{\n      \"id\": \"nested\"\n    }}>{`Nested`}</h3>\n    <Playground __position={1} __code={'<Toggle initial={false}>\\n  {({ on: outerOn, set: outerSet }) => (\\n    <Box>\\n      <Modal\\n        visible={outerOn}\\n        animationType=\\\"fade\\\"\\n        onRequestClose={() => outerSet(false)}\\n      >\\n        <Box height={1800}>\\n          <Text>Outer modal</Text>\\n          <Button\\n            onPress={() => outerSet(false)}\\n            title=\\\"Close outer modal button one\\\"\\n          />\\n          <Button\\n            onPress={() => outerSet(false)}\\n            title=\\\"Close outer modal button two\\\"\\n          />\\n          <Toggle initial={false}>\\n            {({ on: innerOn, set: innerSet }) => (\\n              <Box>\\n                <Modal\\n                  visible={innerOn}\\n                  animationType=\\\"slide\\\"\\n                  onRequestClose={() => innerSet(false)}\\n                >\\n                  <Box height={1800}>\\n                    <Text>Inner modal</Text>\\n                    <Button\\n                      onPress={() => innerSet(false)}\\n                      title=\\\"Close inner modal button one\\\"\\n                    />\\n                    <Button\\n                      onPress={() => innerSet(false)}\\n                      title=\\\"Close inner modal button two\\\"\\n                    />\\n                  </Box>\\n                </Modal>\\n                <Button\\n                  onPress={() => innerSet(true)}\\n                  title=\\\"Open inner modal\\\"\\n                />\\n              </Box>\\n            )}\\n          </Toggle>\\n        </Box>\\n      </Modal>\\n      <Button onPress={() => outerSet(true)} title=\\\"Open outer modal\\\" />\\n    </Box>\\n  )}\\n</Toggle>'} __scope={{\n      props,\n      DefaultLayout,\n      Playground,\n      Props,\n      Modal,\n      Box,\n      Text,\n      Button,\n      Toggle\n    }} mdxType=\"Playground\">\n  <Toggle initial={false} mdxType=\"Toggle\">\n    {({\n          on: outerOn,\n          set: outerSet\n        }) => <Box mdxType=\"Box\">\n        <Modal visible={outerOn} animationType=\"fade\" onRequestClose={() => outerSet(false)} mdxType=\"Modal\">\n          <Box height={1800} mdxType=\"Box\">\n            <Text mdxType=\"Text\">Outer modal</Text>\n            <Button onPress={() => outerSet(false)} title=\"Close outer modal button one\" mdxType=\"Button\" />\n            <Button onPress={() => outerSet(false)} title=\"Close outer modal button two\" mdxType=\"Button\" />\n            <Toggle initial={false} mdxType=\"Toggle\">\n              {({\n                  on: innerOn,\n                  set: innerSet\n                }) => <Box mdxType=\"Box\">\n                  <Modal visible={innerOn} animationType=\"slide\" onRequestClose={() => innerSet(false)} mdxType=\"Modal\">\n                    <Box height={1800} mdxType=\"Box\">\n                      <Text mdxType=\"Text\">Inner modal</Text>\n                      <Button onPress={() => innerSet(false)} title=\"Close inner modal button one\" mdxType=\"Button\" />\n                      <Button onPress={() => innerSet(false)} title=\"Close inner modal button two\" mdxType=\"Button\" />\n                    </Box>\n                  </Modal>\n                  <Button onPress={() => innerSet(true)} title=\"Open inner modal\" mdxType=\"Button\" />\n                </Box>}\n            </Toggle>\n          </Box>\n        </Modal>\n        <Button onPress={() => outerSet(true)} title=\"Open outer modal\" mdxType=\"Button\" />\n      </Box>}\n  </Toggle>\n    </Playground>\n    <h3 {...{\n      \"id\": \"using-browser-history\"\n    }}>{`Using browser history`}</h3>\n    <p>{`By using `}<inlineCode parentName=\"p\">{`useHistory`}</inlineCode>{` prop it will mimic Android's back button behavior on web which closes modals. On RN, this will have no effect and will use a regular `}<inlineCode parentName=\"p\">{`Modal`}</inlineCode>{`. Works in nested modals as well.`}</p>\n    <p>{`Note: Uses history `}<inlineCode parentName=\"p\">{`state`}</inlineCode>{` to manipulate modal state`}</p>\n    <Playground __position={2} __code={'<Toggle initial={false}>\\n  {({ on: outerOn, set: outerSet }) => (\\n    <Box>\\n      <Modal\\n        useHistory\\n        visible={outerOn}\\n        onRequestClose={() => outerSet(false)}\\n      >\\n        <Box height={1800}>\\n          <Text>Outer modal</Text>\\n          <Button\\n            onPress={() => outerSet(false)}\\n            title=\\\"Close outer modal button one\\\"\\n          />\\n          <Button\\n            onPress={() => outerSet(false)}\\n            title=\\\"Close outer modal button two\\\"\\n          />\\n          <Toggle initial={false}>\\n            {({ on: innerOn, set: innerSet }) => (\\n              <Box>\\n                <Modal\\n                  visible={innerOn}\\n                  useHistory\\n                  onRequestClose={() => innerSet(false)}\\n                >\\n                  <Box height={1800}>\\n                    <Text>Inner modal</Text>\\n                    <Button\\n                      onPress={() => innerSet(false)}\\n                      title=\\\"Close inner modal button one\\\"\\n                    />\\n                    <Button\\n                      onPress={() => innerSet(false)}\\n                      title=\\\"Close inner modal button two\\\"\\n                    />\\n                  </Box>\\n                </Modal>\\n                <Button\\n                  onPress={() => innerSet(true)}\\n                  title=\\\"Open inner modal\\\"\\n                />\\n              </Box>\\n            )}\\n          </Toggle>\\n        </Box>\\n      </Modal>\\n      <Button onPress={() => outerSet(true)} title=\\\"Open outer modal\\\" />\\n    </Box>\\n  )}\\n</Toggle>'} __scope={{\n      props,\n      DefaultLayout,\n      Playground,\n      Props,\n      Modal,\n      Box,\n      Text,\n      Button,\n      Toggle\n    }} mdxType=\"Playground\">\n  <Toggle initial={false} mdxType=\"Toggle\">\n    {({\n          on: outerOn,\n          set: outerSet\n        }) => <Box mdxType=\"Box\">\n        <Modal useHistory visible={outerOn} onRequestClose={() => outerSet(false)} mdxType=\"Modal\">\n          <Box height={1800} mdxType=\"Box\">\n            <Text mdxType=\"Text\">Outer modal</Text>\n            <Button onPress={() => outerSet(false)} title=\"Close outer modal button one\" mdxType=\"Button\" />\n            <Button onPress={() => outerSet(false)} title=\"Close outer modal button two\" mdxType=\"Button\" />\n            <Toggle initial={false} mdxType=\"Toggle\">\n              {({\n                  on: innerOn,\n                  set: innerSet\n                }) => <Box mdxType=\"Box\">\n                  <Modal visible={innerOn} useHistory onRequestClose={() => innerSet(false)} mdxType=\"Modal\">\n                    <Box height={1800} mdxType=\"Box\">\n                      <Text mdxType=\"Text\">Inner modal</Text>\n                      <Button onPress={() => innerSet(false)} title=\"Close inner modal button one\" mdxType=\"Button\" />\n                      <Button onPress={() => innerSet(false)} title=\"Close inner modal button two\" mdxType=\"Button\" />\n                    </Box>\n                  </Modal>\n                  <Button onPress={() => innerSet(true)} title=\"Open inner modal\" mdxType=\"Button\" />\n                </Box>}\n            </Toggle>\n          </Box>\n        </Modal>\n        <Button onPress={() => outerSet(true)} title=\"Open outer modal\" mdxType=\"Button\" />\n      </Box>}\n  </Toggle>\n    </Playground>\n    <h2 {...{\n      \"id\": \"props\"\n    }}>{`Props`}</h2>\n    <Props of={Modal} mdxType=\"Props\" />\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","require(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar runtime = function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n    return generator;\n  }\n\n  exports.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\"; // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n\n  var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n\n\n  var IteratorPrototype = {};\n\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n  if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\"; // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      prototype[method] = function (arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function (genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n    // do is to check its .name property.\n    (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n  };\n\n  exports.mark = function (genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  }; // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n\n\n  exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n\n        if (value && typeof value === \"object\" && hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function (value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function (err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function (unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function (error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = // If enqueue has been called before, then we want to wait until\n      // all previous Promises have been resolved before calling invoke,\n      // so that results are always delivered in the correct order. If\n      // enqueue has not been called before, then it is important to\n      // call invoke immediately, without waiting on a callback to fire,\n      // so that the async generator function has the opportunity to do\n      // any necessary setup in a predictable way. This predictability\n      // is why the Promise constructor synchronously invokes its\n      // executor callback, and why async functions synchronously\n      // execute code before the first await. Since we implement simple\n      // async functions in terms of async generators, it is especially\n      // important to get this right, even though it requires care.\n      previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n      // invocations of the iterator.\n      callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    } // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n\n\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n\n  exports.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n\n  exports.async = function (innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));\n    return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n    : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        } // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n        var record = tryCatch(innerFn, self, context);\n\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted; // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  } // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (!info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n      context.next = delegate.nextLoc; // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    } // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n\n\n    context.delegate = null;\n    return ContinueSentinel;\n  } // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n\n\n  defineIteratorMethods(Gp);\n  Gp[toStringTagSymbol] = \"Generator\"; // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n\n  Gp[iteratorSymbol] = function () {\n    return this;\n  };\n\n  Gp.toString = function () {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    keys.reverse(); // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      } // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n\n\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n          return next;\n        };\n\n        return next.next = next;\n      }\n    } // Return an iterator with no values.\n\n\n    return {\n      next: doneResult\n    };\n  }\n\n  exports.values = values;\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: true\n    };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      this.prev = 0;\n      this.next = 0; // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n      this.method = \"next\";\n      this.arg = undefined;\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n    stop: function stop() {\n      this.done = true;\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" || record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      } // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  }; // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n\n  return exports;\n}( // If this script is executing as a CommonJS module, use module.exports\n// as the regeneratorRuntime namespace. Otherwise create a new empty\n// object. Either way, the resulting object will be used to initialize\n// the regeneratorRuntime variable at the top of this file.\ntypeof module === \"object\" ? module.exports : {});\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}","module.exports = require(\"regenerator-runtime\");\n","import React from 'react';\n\nconst reducer = (state: boolean, action: null): boolean => !state;\n\nexport const useForceUpdate = () => {\n  const [, dispatch] = React.useReducer(reducer, true);\n\n  // Turn dispatch(required_parameter) into dispatch().\n  return React.useCallback(() => {\n    dispatch(null);\n  }, [dispatch]);\n};\n","import React from 'react';\nimport { View } from 'react-native';\nimport { animated, useTrail } from 'react-spring/native.cjs';\n\nimport { useForceUpdate } from '../../hooks';\nimport { useTheme } from '../../theme';\n\nconst AnimatedView = animated(View);\n\nexport interface DotsProps {\n  color?: string;\n  size?: number;\n}\n\nexport const Dots = (props: DotsProps) => {\n  const theme = useTheme();\n  const { size = 10, color = theme.colors.text.primary } = props;\n  const forceUpdate = useForceUpdate();\n\n  const trail = useTrail(3, {\n    config: { duration: 800 },\n    from: { opacity: 0 },\n    onRest: forceUpdate,\n    reset: true,\n    to: async next => {\n      await next({ opacity: 1 });\n      await next({ opacity: 0 });\n    },\n  });\n\n  return (\n    <View\n      style={{\n        alignItems: 'center',\n        flexDirection: 'row',\n        justifyContent: 'center',\n      }}\n    >\n      {trail.map((style, index) => (\n        <AnimatedView\n          key={index}\n          // @ts-ignore\n          style={{\n            backgroundColor: color,\n            borderRadius: 999,\n            height: size,\n            marginLeft: 3,\n            marginRight: 3,\n            opacity: style.opacity,\n            width: size,\n          }}\n        />\n      ))}\n    </View>\n  );\n};\n","import dlv from 'dlv';\nimport React from 'react';\nimport {\n  GestureResponderEvent,\n  TouchableOpacity,\n  TouchableOpacityProps,\n  ViewStyle,\n} from 'react-native';\n\nimport { ButtonColor, ControlSize, Theme, useTheme } from '../../theme';\nimport { isControlSize } from '../../utils/ControlSize';\nimport { getOverrides, getStyle, WithOverrides } from '../../utils/Overrides';\nimport { OptionalString } from '../../utils/types';\nimport { Dots } from '../LoadingIndicators';\nimport { Text, TextProps } from '../Typography';\n\ninterface ButtonBaseProps {\n  /** Title of the button */\n  title?: OptionalString;\n\n  /**\n   * The color of the button.\n   * @default \"default\"\n   */\n  color?: ButtonColor;\n\n  /**\n   * The appearance of the button.\n   * @default \"primary\"\n   */\n  appearance?: ButtonAppearance;\n\n  /**\n   * The size of the button.\n   * @default \"medium\"\n   */\n  size?: ControlSize | number;\n\n  /**\n   * When true, show a loading spinner before the title. This also disables the button.\n   * @default false\n   */\n  isLoading?: boolean;\n\n  /**\n   * When true, the button is disabled. isLoading also sets the button to disabled.\n   * @default false\n   */\n  isDisabled?: boolean;\n\n  /** Called when button is pressed */\n  onPress?: (event: GestureResponderEvent) => void;\n\n  /** Used to locate this view in end-to-end tests. */\n  testID?: string;\n}\n\nexport interface ButtonOverrides {\n  Touchable: TouchableProps;\n  Title: TitleProps;\n  IconBefore: IconProps;\n  IconAfter: IconProps;\n  Loading: LoadingProps;\n}\n\nexport interface ButtonProps\n  extends WithOverrides<ButtonBaseProps, ButtonOverrides> {}\n\nexport const Button = (props: ButtonProps) => {\n  const {\n    appearance = 'primary',\n    color = 'default',\n    isDisabled = false,\n    isLoading = false,\n    size = 'medium',\n    onPress = () => {\n      return;\n    },\n    title,\n    testID,\n    overrides = {},\n  } = props;\n  const theme = useTheme();\n\n  const [Touchable, touchableProps] = getOverrides(\n    StyledTouchable,\n    props,\n    {\n      appearance,\n      color,\n      isDisabled,\n      isLoading,\n      size,\n      onPress,\n      testID,\n    },\n    dlv(theme, 'overrides.Button.Touchable'),\n    overrides.Touchable,\n  );\n  const [Title, titleProps] = getOverrides(\n    StyledTitle,\n    props,\n    {\n      appearance,\n      color,\n      isDisabled,\n      size,\n      title,\n    },\n    dlv(theme, 'overrides.Button.Title'),\n    overrides.Title,\n  );\n  const [Loading, loadingProps] = getOverrides(\n    StyledLoading,\n    props,\n    {\n      appearance,\n      color,\n    },\n    dlv(theme, 'overrides.Button.Loading'),\n    overrides.Loading,\n  );\n  const [IconBefore, iconBeforeProps] = getOverrides(\n    StyledIcon,\n    props,\n    {\n      appearance,\n      color,\n      isDisabled,\n      isLoading,\n      size,\n    },\n    dlv(theme, 'overrides.Button.IconBefore'),\n    overrides.IconBefore,\n  );\n  const [IconAfter, iconAfterProps] = getOverrides(\n    StyledIcon,\n    props,\n    {\n      appearance,\n      color,\n      isDisabled,\n      isLoading,\n      size,\n    },\n    dlv(theme, 'overrides.Button.IconAfter'),\n    overrides.IconAfter,\n  );\n\n  return (\n    <Touchable {...touchableProps}>\n      <IconBefore {...iconBeforeProps} />\n      {isLoading ? <Loading {...loadingProps} /> : <Title {...titleProps} />}\n      <IconAfter {...iconAfterProps} />\n    </Touchable>\n  );\n};\n\ninterface PropsWithChildren {\n  children?: React.ReactNode;\n}\n\ninterface ButtonAppearances {\n  minimal: { [size in ButtonColor]: ViewStyle };\n  primary: { [size in ButtonColor]: ViewStyle };\n  outline: { [size in ButtonColor]: ViewStyle };\n}\n\ntype ButtonAppearance = keyof ButtonAppearances;\n\nconst getButtonAppearances = (\n  theme: Theme,\n  isLoading: boolean,\n): ButtonAppearances => {\n  return {\n    minimal: {\n      default: {\n        backgroundColor: theme.colors.background.content,\n      },\n      danger: {\n        backgroundColor: theme.colors.background.content,\n      },\n      primary: {\n        backgroundColor: theme.colors.background.content,\n      },\n      secondary: {\n        backgroundColor: theme.colors.background.content,\n      },\n    },\n    primary: {\n      default: {\n        backgroundColor: isLoading\n          ? theme.colors.background.greyLight\n          : theme.colors.button.default,\n      },\n      danger: {\n        backgroundColor: isLoading\n          ? theme.colors.background.dangerLight\n          : theme.colors.button.danger,\n      },\n      primary: {\n        backgroundColor: isLoading\n          ? theme.colors.background.primaryLight\n          : theme.colors.button.primary,\n      },\n      secondary: {\n        backgroundColor: isLoading\n          ? theme.colors.background.secondaryLight\n          : theme.colors.button.secondary,\n      },\n    },\n\n    outline: {\n      default: {\n        backgroundColor: theme.colors.background.content,\n        borderColor: theme.colors.text.default,\n        borderWidth: 3,\n      },\n      danger: {\n        backgroundColor: theme.colors.background.content,\n        borderColor: theme.colors.border.danger,\n        borderWidth: 3,\n      },\n      primary: {\n        backgroundColor: theme.colors.background.content,\n        borderColor: theme.colors.border.primary,\n        borderWidth: 3,\n      },\n      secondary: {\n        backgroundColor: theme.colors.background.content,\n        borderColor: theme.colors.border.secondary,\n        borderWidth: 3,\n      },\n    },\n  };\n};\n\ninterface TouchableProps extends TouchableOpacityProps, PropsWithChildren {\n  color: ButtonColor;\n  appearance: ButtonAppearance;\n  size: ControlSize | number;\n  isDisabled: boolean;\n  isLoading: boolean;\n}\n\nconst StyledTouchable = (props: TouchableProps) => {\n  const {\n    appearance,\n    color,\n    isDisabled,\n    isLoading,\n    size,\n    children,\n    style,\n    ...touchableProps\n  } = props;\n  const theme = useTheme();\n  const buttonAppearances = getButtonAppearances(theme, isLoading);\n\n  const { borderRadius, minHeight, paddingLeft, paddingRight } = isControlSize(\n    size,\n  )\n    ? {\n        borderRadius: theme.controlBorderRadius[size],\n        minHeight: theme.controlHeights[size],\n        paddingLeft: theme.controlPaddings[size] + 8,\n        paddingRight: theme.controlPaddings[size] + 8,\n      }\n    : {\n        borderRadius: theme.controlBorderRadius.medium,\n        minHeight: size,\n        paddingLeft: theme.controlPaddings.medium + 8,\n        paddingRight: theme.controlPaddings.medium + 8,\n      };\n\n  return (\n    <TouchableOpacity\n      accessibilityRole=\"button\"\n      disabled={!!(isDisabled || isLoading)}\n      style={[\n        {\n          borderRadius,\n          minHeight,\n          paddingLeft,\n          paddingRight,\n          flexDirection: 'row',\n          alignItems: 'center',\n          justifyContent: 'center',\n          ...buttonAppearances[appearance][color],\n          ...(isDisabled && {\n            backgroundColor: theme.colors.button.disabled,\n          }),\n        },\n        style,\n      ]}\n      {...touchableProps}\n    >\n      {children}\n    </TouchableOpacity>\n  );\n};\n\ninterface ButtonTextColors {\n  minimal: { [size in ButtonColor]: string };\n  primary: { [size in ButtonColor]: string };\n  outline: { [size in ButtonColor]: string };\n}\n\nconst getButtonTextColor = (theme: Theme): ButtonTextColors => {\n  return {\n    minimal: {\n      default: theme.colors.text.default,\n      danger: theme.colors.text.danger,\n      primary: theme.colors.text.primary,\n      secondary: theme.colors.text.secondary,\n    },\n    primary: {\n      default: theme.colors.button.defaultText,\n      danger: theme.colors.button.dangerText,\n      primary: theme.colors.button.primaryText,\n      secondary: theme.colors.button.secondaryText,\n    },\n\n    outline: {\n      default: theme.colors.text.default,\n      danger: theme.colors.text.danger,\n      primary: theme.colors.text.primary,\n      secondary: theme.colors.text.secondary,\n    },\n  };\n};\n\ninterface TitleProps extends TextProps {\n  size: ControlSize | number;\n  color: ButtonColor;\n  title?: OptionalString;\n  appearance: ButtonAppearance;\n  isDisabled: boolean;\n}\n\nconst StyledTitle = (props: TitleProps) => {\n  const {\n    appearance,\n    color,\n    isDisabled,\n    size,\n    title,\n    style,\n    ...textProps\n  } = props;\n  const theme = useTheme();\n\n  const textSize = isControlSize(size)\n    ? theme.textSizes[size]\n    : theme.textSizes.medium;\n\n  if (!title) return null;\n\n  return (\n    <Text\n      weight=\"bold\"\n      style={[\n        {\n          alignItems: 'center',\n          color: isDisabled\n            ? theme.colors.text.muted\n            : getButtonTextColor(theme)[appearance][color],\n          display: 'flex',\n          fontWeight: '600',\n          justifyContent: 'center',\n          textAlign: 'center',\n          paddingHorizontal: 8,\n          ...textSize,\n        },\n        getStyle(props, style),\n      ]}\n      {...textProps}\n    >\n      {title}\n    </Text>\n  );\n};\n\ninterface LoadingProps {\n  color: ButtonColor;\n  appearance: ButtonAppearance;\n}\n\nconst StyledLoading = (props: LoadingProps) => {\n  const { appearance, color } = props;\n  const theme = useTheme();\n\n  return <Dots color={getButtonTextColor(theme)[appearance][color]} />;\n};\n\ninterface IconProps extends PropsWithChildren {\n  size: ControlSize | number;\n  color: ButtonColor;\n  title?: OptionalString;\n  appearance: ButtonAppearance;\n  isDisabled: boolean;\n  isLoading: boolean;\n}\n\nconst StyledIcon = (props: IconProps) => {\n  return <></>;\n};\n","import React from 'react';\n\nexport interface ToggleRenderProps {\n  on: boolean;\n  toggle: () => void;\n  set: (on: boolean) => void;\n}\n\nexport interface ToggleProps {\n  initial?: boolean;\n  children: (props: ToggleRenderProps) => JSX.Element;\n}\n\nexport const Toggle = (props: ToggleProps) => {\n  const { children, initial = false } = props;\n  const [isOn, setIsOn] = React.useState(initial);\n\n  const handleToggle = React.useCallback(() => {\n    setIsOn(!isOn);\n  }, [isOn]);\n\n  const handleSet = React.useCallback((on: boolean) => {\n    setIsOn(on);\n  }, []);\n\n  return children({ on: isOn, toggle: handleToggle, set: handleSet });\n};\n","require(\"core-js/modules/es6.array.index-of\");\n\nvar tabbable = require('tabbable');\n\nvar xtend = require('xtend');\n\nvar activeFocusDelay;\n\nvar activeFocusTraps = function () {\n  var trapQueue = [];\n  return {\n    activateTrap: function activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        var activeTrap = trapQueue[trapQueue.length - 1];\n\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n    deactivateTrap: function deactivateTrap(trap) {\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    }\n  };\n}();\n\nfunction focusTrap(element, userOptions) {\n  var doc = document;\n  var container = typeof element === 'string' ? doc.querySelector(element) : element;\n  var config = xtend({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true\n  }, userOptions);\n  var state = {\n    firstTabbableNode: null,\n    lastTabbableNode: null,\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false\n  };\n  var trap = {\n    activate: activate,\n    deactivate: deactivate,\n    pause: pause,\n    unpause: unpause\n  };\n  return trap;\n\n  function activate(activateOptions) {\n    if (state.active) return;\n    updateTabbableNodes();\n    state.active = true;\n    state.paused = false;\n    state.nodeFocusedBeforeActivation = doc.activeElement;\n    var onActivate = activateOptions && activateOptions.onActivate ? activateOptions.onActivate : config.onActivate;\n\n    if (onActivate) {\n      onActivate();\n    }\n\n    addListeners();\n    return trap;\n  }\n\n  function deactivate(deactivateOptions) {\n    if (!state.active) return;\n    clearTimeout(activeFocusDelay);\n    removeListeners();\n    state.active = false;\n    state.paused = false;\n    activeFocusTraps.deactivateTrap(trap);\n    var onDeactivate = deactivateOptions && deactivateOptions.onDeactivate !== undefined ? deactivateOptions.onDeactivate : config.onDeactivate;\n\n    if (onDeactivate) {\n      onDeactivate();\n    }\n\n    var returnFocus = deactivateOptions && deactivateOptions.returnFocus !== undefined ? deactivateOptions.returnFocus : config.returnFocusOnDeactivate;\n\n    if (returnFocus) {\n      delay(function () {\n        tryFocus(state.nodeFocusedBeforeActivation);\n      });\n    }\n\n    return trap;\n  }\n\n  function pause() {\n    if (state.paused || !state.active) return;\n    state.paused = true;\n    removeListeners();\n  }\n\n  function unpause() {\n    if (!state.paused || !state.active) return;\n    state.paused = false;\n    updateTabbableNodes();\n    addListeners();\n  }\n\n  function addListeners() {\n    if (!state.active) return; // There can be only one listening focus trap at a time\n\n    activeFocusTraps.activateTrap(trap); // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n\n    activeFocusDelay = delay(function () {\n      tryFocus(getInitialFocusNode());\n    });\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  }\n\n  function removeListeners() {\n    if (!state.active) return;\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  }\n\n  function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    var node = optionValue;\n\n    if (!optionValue) {\n      return null;\n    }\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue);\n\n      if (!node) {\n        throw new Error('`' + optionName + '` refers to no known node');\n      }\n    }\n\n    if (typeof optionValue === 'function') {\n      node = optionValue();\n\n      if (!node) {\n        throw new Error('`' + optionName + '` did not return a node');\n      }\n    }\n\n    return node;\n  }\n\n  function getInitialFocusNode() {\n    var node;\n\n    if (getNodeForOption('initialFocus') !== null) {\n      node = getNodeForOption('initialFocus');\n    } else if (container.contains(doc.activeElement)) {\n      node = doc.activeElement;\n    } else {\n      node = state.firstTabbableNode || getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error(\"You can't have a focus-trap without at least one focusable element\");\n    }\n\n    return node;\n  } // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n\n\n  function checkPointerDown(e) {\n    if (container.contains(e.target)) return;\n\n    if (config.clickOutsideDeactivates) {\n      deactivate({\n        returnFocus: !tabbable.isFocusable(e.target)\n      });\n      return;\n    } // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n\n\n    if (config.allowOutsideClick && config.allowOutsideClick(e)) {\n      return;\n    }\n\n    e.preventDefault();\n  } // In case focus escapes the trap for some strange reason, pull it back in.\n\n\n  function checkFocusIn(e) {\n    // In Firefox when you Tab out of an iframe the Document is briefly focused.\n    if (container.contains(e.target) || e.target instanceof Document) {\n      return;\n    }\n\n    e.stopImmediatePropagation();\n    tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n  }\n\n  function checkKey(e) {\n    if (config.escapeDeactivates !== false && isEscapeEvent(e)) {\n      e.preventDefault();\n      deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  } // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n\n\n  function checkTab(e) {\n    updateTabbableNodes();\n\n    if (e.shiftKey && e.target === state.firstTabbableNode) {\n      e.preventDefault();\n      tryFocus(state.lastTabbableNode);\n      return;\n    }\n\n    if (!e.shiftKey && e.target === state.lastTabbableNode) {\n      e.preventDefault();\n      tryFocus(state.firstTabbableNode);\n      return;\n    }\n  }\n\n  function checkClick(e) {\n    if (config.clickOutsideDeactivates) return;\n    if (container.contains(e.target)) return;\n\n    if (config.allowOutsideClick && config.allowOutsideClick(e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }\n\n  function updateTabbableNodes() {\n    var tabbableNodes = tabbable(container);\n    state.firstTabbableNode = tabbableNodes[0] || getInitialFocusNode();\n    state.lastTabbableNode = tabbableNodes[tabbableNodes.length - 1] || getInitialFocusNode();\n  }\n\n  function tryFocus(node) {\n    if (node === doc.activeElement) return;\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus();\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  }\n}\n\nfunction isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n}\n\nfunction isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n}\n\nfunction isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n}\n\nfunction delay(fn) {\n  return setTimeout(fn, 0);\n}\n\nmodule.exports = focusTrap;","require(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nvar candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])'];\nvar candidateSelector = candidateSelectors.join(',');\nvar matches = typeof Element === 'undefined' ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nfunction tabbable(el, options) {\n  options = options || {};\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  var candidates = el.querySelectorAll(candidateSelector);\n\n  if (options.includeContainer) {\n    if (matches.call(el, candidateSelector)) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var i, candidate, candidateTabindex;\n\n  for (i = 0; i < candidates.length; i++) {\n    candidate = candidates[i];\n    if (!isNodeMatchingSelectorTabbable(candidate)) continue;\n    candidateTabindex = getTabindex(candidate);\n\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables.sort(sortOrderedTabbables).map(function (a) {\n    return a.node;\n  }).concat(regularTabbables);\n  return tabbableNodes;\n}\n\ntabbable.isTabbable = isTabbable;\ntabbable.isFocusable = isFocusable;\n\nfunction isNodeMatchingSelectorTabbable(node) {\n  if (!isNodeMatchingSelectorFocusable(node) || isNonTabbableRadio(node) || getTabindex(node) < 0) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction isTabbable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, candidateSelector) === false) return false;\n  return isNodeMatchingSelectorTabbable(node);\n}\n\nfunction isNodeMatchingSelectorFocusable(node) {\n  if (node.disabled || isHiddenInput(node) || isHidden(node)) {\n    return false;\n  }\n\n  return true;\n}\n\nvar focusableCandidateSelector = candidateSelectors.concat('iframe').join(',');\n\nfunction isFocusable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, focusableCandidateSelector) === false) return false;\n  return isNodeMatchingSelectorFocusable(node);\n}\n\nfunction getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n  if (!isNaN(tabindexAttr)) return tabindexAttr; // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n\n  if (isContentEditable(node)) return 0;\n  return node.tabIndex;\n}\n\nfunction sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n}\n\nfunction isContentEditable(node) {\n  return node.contentEditable === 'true';\n}\n\nfunction isInput(node) {\n  return node.tagName === 'INPUT';\n}\n\nfunction isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n}\n\nfunction isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n}\n\nfunction isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n}\n\nfunction getCheckedRadio(nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked) {\n      return nodes[i];\n    }\n  }\n}\n\nfunction isTabbableRadio(node) {\n  if (!node.name) return true; // This won't account for the edge case where you have radio groups with the same\n  // in separate forms on the same page.\n\n  var radioSet = node.ownerDocument.querySelectorAll('input[type=\"radio\"][name=\"' + node.name + '\"]');\n  var checked = getCheckedRadio(radioSet);\n  return !checked || checked === node;\n}\n\nfunction isHidden(node) {\n  // offsetParent being null will allow detecting cases where an element is invisible or inside an invisible element,\n  // as long as the element does not use position: fixed. For them, their visibility has to be checked directly as well.\n  return node.offsetParent === null || getComputedStyle(node).visibility === 'hidden';\n}\n\nmodule.exports = tabbable;","module.exports = extend;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n  var target = {};\n\n  for (var i = 0; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n}","/*!\n  Copyright (c) 2015 Jed Watson.\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\n  All rights reserved.\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n  var ExecutionEnvironment = {\n    canUseDOM: canUseDOM,\n    canUseWorkers: typeof Worker !== 'undefined',\n    canUseEventListeners: canUseDOM && !!(window.addEventListener || window.attachEvent),\n    canUseViewport: canUseDOM && !!window.screen\n  };\n\n  if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    define(function () {\n      return ExecutionEnvironment;\n    });\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = ExecutionEnvironment;\n  } else {\n    window.ExecutionEnvironment = ExecutionEnvironment;\n  }\n})();","'use strict';\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.regexp.constructor\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.array.from\");\n\nrequire(\"core-js/modules/es6.string.starts-with\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.array.find\");\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.array.find-index\");\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.object.freeze\");\n\nrequire(\"core-js/modules/es6.date.now\");\n\nrequire(\"core-js/modules/es7.object.values\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es7.object.entries\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.map\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.set\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar _extends = _interopDefault(require('@babel/runtime/helpers/extends'));\n\nvar _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/objectWithoutPropertiesLoose'));\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\nvar _inheritsLoose = _interopDefault(require('@babel/runtime/helpers/inheritsLoose'));\n\nvar _assertThisInitialized = _interopDefault(require('@babel/runtime/helpers/assertThisInitialized'));\n\nvar is = {\n  arr: Array.isArray,\n  obj: function obj(a) {\n    return Object.prototype.toString.call(a) === '[object Object]';\n  },\n  fun: function fun(a) {\n    return typeof a === 'function';\n  },\n  str: function str(a) {\n    return typeof a === 'string';\n  },\n  num: function num(a) {\n    return typeof a === 'number';\n  },\n  und: function und(a) {\n    return a === void 0;\n  },\n  nul: function nul(a) {\n    return a === null;\n  },\n  boo: function boo(a) {\n    return typeof a === 'boolean';\n  },\n  set: function set(a) {\n    return a instanceof Set;\n  },\n  map: function map(a) {\n    return a instanceof Map;\n  },\n  equ: function equ(a, b) {\n    if (typeof a !== typeof b) return false;\n    if (is.str(a) || is.num(a)) return a === b;\n    if (is.obj(a) && is.obj(b) && Object.keys(a).length + Object.keys(b).length === 0) return true;\n    var i;\n\n    for (i in a) {\n      if (!(i in b)) return false;\n    }\n\n    for (i in b) {\n      if (a[i] !== b[i]) return false;\n    }\n\n    return is.und(i) ? a === b : true;\n  }\n};\n\nfunction merge(target, lowercase) {\n  if (lowercase === void 0) {\n    lowercase = true;\n  }\n\n  return function (object) {\n    return (is.arr(object) ? object : Object.keys(object)).reduce(function (acc, element) {\n      var key = lowercase ? element[0].toLowerCase() + element.substring(1) : element;\n      acc[key] = target(key);\n      return acc;\n    }, target);\n  };\n}\n\nfunction useForceUpdate() {\n  var _useState = React.useState(false),\n      f = _useState[1];\n\n  var forceUpdate = React.useCallback(function () {\n    return f(function (v) {\n      return !v;\n    });\n  }, []);\n  return forceUpdate;\n}\n\nfunction withDefault(value, defaultValue) {\n  return is.und(value) || is.nul(value) ? defaultValue : value;\n}\n\nfunction toArray(a) {\n  return !is.und(a) ? is.arr(a) ? a : [a] : [];\n}\n\nfunction callProp(obj) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return is.fun(obj) ? obj.apply(void 0, args) : obj;\n}\n\nfunction getForwardProps(props) {\n  var to = props.to,\n      from = props.from,\n      config = props.config,\n      onStart = props.onStart,\n      onRest = props.onRest,\n      onFrame = props.onFrame,\n      children = props.children,\n      cancel = props.cancel,\n      reset = props.reset,\n      reverse = props.reverse,\n      force = props.force,\n      immediate = props.immediate,\n      delay = props.delay,\n      attach = props.attach,\n      destroyed = props.destroyed,\n      interpolateTo = props.interpolateTo,\n      ref = props.ref,\n      lazy = props.lazy,\n      forward = _objectWithoutPropertiesLoose(props, [\"to\", \"from\", \"config\", \"onStart\", \"onRest\", \"onFrame\", \"children\", \"cancel\", \"reset\", \"reverse\", \"force\", \"immediate\", \"delay\", \"attach\", \"destroyed\", \"interpolateTo\", \"ref\", \"lazy\"]);\n\n  return forward;\n}\n\nfunction interpolateTo(props) {\n  var forward = getForwardProps(props);\n  props = Object.entries(props).reduce(function (props, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    return key in forward || (props[key] = value), props;\n  }, {});\n  return _extends({\n    to: forward\n  }, props);\n}\n\nfunction handleRef(ref, forward) {\n  if (forward) {\n    // If it's a function, assume it's a ref callback\n    if (is.fun(forward)) forward(ref);else if (is.obj(forward)) {\n      forward.current = ref;\n    }\n  }\n\n  return ref;\n}\n\nfunction fillArray(length, mapIndex) {\n  var arr = [];\n\n  for (var i = 0; i < length; i++) {\n    arr.push(mapIndex(i));\n  }\n\n  return arr;\n}\n/**\n * This tries to put deleted items back into the given `out` list in correct\n * order. Deleted items must have a `left` and `right` property with key of\n * their sibling which is used to find the correct placement.\n */\n\n\nfunction reconcileDeleted(deleted, current) {\n  // Copy as we will be mutating the arrays\n  deleted = [].concat(deleted);\n  current = [].concat(current); // Used to detect deadlock (when a pass finds 0 siblings)\n\n  var failedTries = 0; // Track where the current pass start/ends\n\n  var passIndex = 0;\n  var nextPassIndex = deleted.length; // Insert all deleted items into `current`\n\n  for (var i = 0; i < deleted.length; i++) {\n    if (i === nextPassIndex) {\n      // Sanity test: Push to end if somehow no siblings were found\n      if (passIndex + failedTries === nextPassIndex) {\n        for (var j = i; j < deleted.length; j++) {\n          var _deleted$j = deleted[j],\n              _left = _deleted$j.left,\n              _right = _deleted$j.right,\n              _deletedItem = _objectWithoutPropertiesLoose(_deleted$j, [\"left\", \"right\"]);\n\n          current.push(_deletedItem);\n        }\n\n        break;\n      } // Update local state at the end of each pass\n\n\n      passIndex = nextPassIndex;\n      nextPassIndex = deleted.length;\n      failedTries = 0;\n    } // The index of the deleted item in `current`\n\n\n    var _index = -1; // Look for the left or right sibling in `current`\n\n\n    var _deleted$i = deleted[i],\n        left = _deleted$i.left,\n        right = _deleted$i.right,\n        deletedItem = _objectWithoutPropertiesLoose(_deleted$i, [\"left\", \"right\"]);\n\n    for (var _j = current.length; --_j >= 0;) {\n      var _key2 = current[_j].originalKey;\n\n      if (_key2 === right) {\n        _index = _j;\n        break;\n      }\n\n      if (_key2 === left) {\n        _index = _j + 1;\n        break;\n      }\n    } // Items with no index are revisited in the next pass\n\n\n    if (_index < 0) {\n      failedTries++;\n      deleted.push(deleted[i]);\n    } else {\n      current.splice(_index, 0, deletedItem);\n    }\n  }\n\n  return current;\n}\n\nvar Animated =\n/*#__PURE__*/\nfunction () {\n  function Animated() {\n    this.payload = void 0;\n    this.children = [];\n  }\n\n  var _proto = Animated.prototype;\n\n  _proto.getAnimatedValue = function getAnimatedValue() {\n    return this.getValue();\n  };\n\n  _proto.getPayload = function getPayload() {\n    return this.payload || this;\n  };\n\n  _proto.attach = function attach() {};\n\n  _proto.detach = function detach() {};\n\n  _proto.getChildren = function getChildren() {\n    return this.children;\n  };\n\n  _proto.addChild = function addChild(child) {\n    if (this.children.length === 0) this.attach();\n    this.children.push(child);\n  };\n\n  _proto.removeChild = function removeChild(child) {\n    var index = this.children.indexOf(child);\n    this.children.splice(index, 1);\n    if (this.children.length === 0) this.detach();\n  };\n\n  return Animated;\n}();\n\nvar AnimatedArray =\n/*#__PURE__*/\nfunction (_Animated) {\n  _inheritsLoose(AnimatedArray, _Animated);\n\n  function AnimatedArray() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Animated.call.apply(_Animated, [this].concat(args)) || this;\n    _this.payload = [];\n\n    _this.attach = function () {\n      return _this.payload.forEach(function (p) {\n        return p instanceof Animated && p.addChild(_assertThisInitialized(_this));\n      });\n    };\n\n    _this.detach = function () {\n      return _this.payload.forEach(function (p) {\n        return p instanceof Animated && p.removeChild(_assertThisInitialized(_this));\n      });\n    };\n\n    return _this;\n  }\n\n  return AnimatedArray;\n}(Animated);\n\nvar AnimatedObject =\n/*#__PURE__*/\nfunction (_Animated2) {\n  _inheritsLoose(AnimatedObject, _Animated2);\n\n  function AnimatedObject() {\n    var _this2;\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    _this2 = _Animated2.call.apply(_Animated2, [this].concat(args)) || this;\n    _this2.payload = {};\n\n    _this2.attach = function () {\n      return Object.values(_this2.payload).forEach(function (s) {\n        return s instanceof Animated && s.addChild(_assertThisInitialized(_this2));\n      });\n    };\n\n    _this2.detach = function () {\n      return Object.values(_this2.payload).forEach(function (s) {\n        return s instanceof Animated && s.removeChild(_assertThisInitialized(_this2));\n      });\n    };\n\n    return _this2;\n  }\n\n  var _proto2 = AnimatedObject.prototype;\n\n  _proto2.getValue = function getValue(animated) {\n    if (animated === void 0) {\n      animated = false;\n    }\n\n    var payload = {};\n\n    for (var _key4 in this.payload) {\n      var value = this.payload[_key4];\n      if (animated && !(value instanceof Animated)) continue;\n      payload[_key4] = value instanceof Animated ? value[animated ? 'getAnimatedValue' : 'getValue']() : value;\n    }\n\n    return payload;\n  };\n\n  _proto2.getAnimatedValue = function getAnimatedValue() {\n    return this.getValue(true);\n  };\n\n  return AnimatedObject;\n}(Animated);\n\nvar applyAnimatedValues;\n\nfunction injectApplyAnimatedValues(fn, transform) {\n  applyAnimatedValues = {\n    fn: fn,\n    transform: transform\n  };\n}\n\nvar colorNames;\n\nfunction injectColorNames(names) {\n  colorNames = names;\n}\n\nvar requestFrame = function requestFrame(cb) {\n  return typeof window !== 'undefined' ? window.requestAnimationFrame(cb) : -1;\n};\n\nvar cancelFrame = function cancelFrame(id) {\n  typeof window !== 'undefined' && window.cancelAnimationFrame(id);\n};\n\nfunction injectFrame(raf, caf) {\n  requestFrame = raf;\n  cancelFrame = caf;\n}\n\nvar interpolation;\n\nfunction injectStringInterpolator(fn) {\n  interpolation = fn;\n}\n\nvar now = function now() {\n  return Date.now();\n};\n\nfunction injectNow(nowFn) {\n  now = nowFn;\n}\n\nvar defaultElement;\n\nfunction injectDefaultElement(el) {\n  defaultElement = el;\n}\n\nvar animatedApi = function animatedApi(node) {\n  return node.current;\n};\n\nfunction injectAnimatedApi(fn) {\n  animatedApi = fn;\n}\n\nvar createAnimatedStyle;\n\nfunction injectCreateAnimatedStyle(factory) {\n  createAnimatedStyle = factory;\n}\n\nvar manualFrameloop;\n\nfunction injectManualFrameloop(callback) {\n  manualFrameloop = callback;\n}\n\nvar Globals =\n/*#__PURE__*/\nObject.freeze({\n  get applyAnimatedValues() {\n    return applyAnimatedValues;\n  },\n\n  injectApplyAnimatedValues: injectApplyAnimatedValues,\n\n  get colorNames() {\n    return colorNames;\n  },\n\n  injectColorNames: injectColorNames,\n\n  get requestFrame() {\n    return requestFrame;\n  },\n\n  get cancelFrame() {\n    return cancelFrame;\n  },\n\n  injectFrame: injectFrame,\n\n  get interpolation() {\n    return interpolation;\n  },\n\n  injectStringInterpolator: injectStringInterpolator,\n\n  get now() {\n    return now;\n  },\n\n  injectNow: injectNow,\n\n  get defaultElement() {\n    return defaultElement;\n  },\n\n  injectDefaultElement: injectDefaultElement,\n\n  get animatedApi() {\n    return animatedApi;\n  },\n\n  injectAnimatedApi: injectAnimatedApi,\n\n  get createAnimatedStyle() {\n    return createAnimatedStyle;\n  },\n\n  injectCreateAnimatedStyle: injectCreateAnimatedStyle,\n\n  get manualFrameloop() {\n    return manualFrameloop;\n  },\n\n  injectManualFrameloop: injectManualFrameloop\n});\n/**\n * Wraps the `style` property with `AnimatedStyle`.\n */\n\nvar AnimatedProps =\n/*#__PURE__*/\nfunction (_AnimatedObject) {\n  _inheritsLoose(AnimatedProps, _AnimatedObject);\n\n  function AnimatedProps(props, callback) {\n    var _this;\n\n    _this = _AnimatedObject.call(this) || this;\n    _this.update = void 0;\n    _this.payload = !props.style ? props : _extends({}, props, {\n      style: createAnimatedStyle(props.style)\n    });\n    _this.update = callback;\n\n    _this.attach();\n\n    return _this;\n  }\n\n  return AnimatedProps;\n}(AnimatedObject);\n\nvar createAnimatedComponent = function createAnimatedComponent(Component) {\n  var AnimatedComponent = React.forwardRef(function (props, _ref) {\n    var forceUpdate = useForceUpdate();\n    var mounted = React.useRef(true);\n    var propsAnimated = React.useRef(null);\n    var node = React.useRef(null);\n    var attachProps = React.useCallback(function (props) {\n      var oldPropsAnimated = propsAnimated.current;\n\n      var callback = function callback() {\n        if (node.current) {\n          var didUpdate = applyAnimatedValues.fn(node.current, propsAnimated.current.getAnimatedValue());\n          if (didUpdate === false) forceUpdate();\n        }\n      };\n\n      propsAnimated.current = new AnimatedProps(props, callback);\n      oldPropsAnimated && oldPropsAnimated.detach();\n    }, []);\n    React.useEffect(function () {\n      return function () {\n        mounted.current = false;\n        propsAnimated.current && propsAnimated.current.detach();\n      };\n    }, []);\n    React.useImperativeHandle(_ref, function () {\n      return animatedApi(node, mounted, forceUpdate);\n    });\n    attachProps(props);\n\n    var _getValue = propsAnimated.current.getValue(),\n        scrollTop = _getValue.scrollTop,\n        scrollLeft = _getValue.scrollLeft,\n        animatedProps = _objectWithoutPropertiesLoose(_getValue, [\"scrollTop\", \"scrollLeft\"]);\n\n    return React__default.createElement(Component, _extends({}, animatedProps, {\n      ref: function ref(childRef) {\n        return node.current = handleRef(childRef, _ref);\n      }\n    }));\n  });\n  return AnimatedComponent;\n};\n\nfunction createInterpolator(range, output, extrapolate) {\n  if (typeof range === 'function') {\n    return range;\n  }\n\n  if (Array.isArray(range)) {\n    return createInterpolator({\n      range: range,\n      output: output,\n      extrapolate: extrapolate\n    });\n  }\n\n  if (interpolation && typeof range.output[0] === 'string') {\n    return interpolation(range);\n  }\n\n  var config = range;\n  var outputRange = config.output;\n  var inputRange = config.range || [0, 1];\n  var extrapolateLeft = config.extrapolateLeft || config.extrapolate || 'extend';\n  var extrapolateRight = config.extrapolateRight || config.extrapolate || 'extend';\n\n  var easing = config.easing || function (t) {\n    return t;\n  };\n\n  return function (input) {\n    var range = findRange(input, inputRange);\n    return interpolate(input, inputRange[range], inputRange[range + 1], outputRange[range], outputRange[range + 1], easing, extrapolateLeft, extrapolateRight, config.map);\n  };\n}\n\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  var result = map ? map(input) : input; // Extrapolate\n\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') return result;else if (extrapolateLeft === 'clamp') result = inputMin;\n  }\n\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') return result;else if (extrapolateRight === 'clamp') result = inputMax;\n  }\n\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax; // Input Range\n\n  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin); // Easing\n\n  result = easing(result); // Output Range\n\n  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\n\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i) {\n    if (inputRange[i] >= input) break;\n  }\n\n  return i - 1;\n}\n\nvar AnimatedInterpolation =\n/*#__PURE__*/\nfunction (_AnimatedArray) {\n  _inheritsLoose(AnimatedInterpolation, _AnimatedArray);\n\n  function AnimatedInterpolation(parents, range, output) {\n    var _this;\n\n    _this = _AnimatedArray.call(this) || this;\n    _this.calc = void 0;\n    _this.calc = createInterpolator(range, output);\n    _this.payload = parents instanceof AnimatedArray && !(parents instanceof AnimatedInterpolation) ? parents.getPayload() : Array.isArray(parents) ? parents : [parents];\n    return _this;\n  }\n\n  var _proto = AnimatedInterpolation.prototype;\n\n  _proto.getValue = function getValue() {\n    return this.calc.apply(this, this.payload.map(function (value) {\n      return value.getValue();\n    }));\n  };\n\n  _proto.interpolate = function interpolate(range, output) {\n    return new AnimatedInterpolation(this, range, output);\n  };\n\n  return AnimatedInterpolation;\n}(AnimatedArray);\n\nvar interpolate$1 = function interpolate(parents, range, output) {\n  return parents && new AnimatedInterpolation(parents, range, output);\n};\n\nvar config = {\n  \"default\": {\n    tension: 170,\n    friction: 26\n  },\n  gentle: {\n    tension: 120,\n    friction: 14\n  },\n  wobbly: {\n    tension: 180,\n    friction: 12\n  },\n  stiff: {\n    tension: 210,\n    friction: 20\n  },\n  slow: {\n    tension: 280,\n    friction: 60\n  },\n  molasses: {\n    tension: 280,\n    friction: 120\n  }\n};\n/** API\n *  useChain(references, timeSteps, timeFrame)\n */\n\nfunction useChain(refs, timeSteps, timeFrame) {\n  if (timeFrame === void 0) {\n    timeFrame = 1000;\n  }\n\n  React.useEffect(function () {\n    if (timeSteps) {\n      var prevDelay = 0;\n      refs.forEach(function (ref, i) {\n        if (!ref.current) return;\n        var controllers = ref.current.controllers;\n\n        if (controllers.length) {\n          var delay = timeFrame * timeSteps[i]; // Use the previous delay if none exists.\n\n          if (isNaN(delay)) delay = prevDelay;else prevDelay = delay;\n          controllers.forEach(function (ctrl) {\n            ctrl.queue.forEach(function (props) {\n              return props.delay += delay;\n            });\n            ctrl.start();\n          });\n        }\n      });\n    } else {\n      var p = Promise.resolve();\n      refs.forEach(function (ref) {\n        if (!ref.current) return;\n        var _ref$current = ref.current,\n            controllers = _ref$current.controllers,\n            start = _ref$current.start;\n\n        if (controllers.length) {\n          // Take the queue of each controller\n          var updates = controllers.map(function (ctrl) {\n            var q = ctrl.queue;\n            ctrl.queue = [];\n            return q;\n          }); // Apply the queue when the previous ref stops animating\n\n          p = p.then(function () {\n            controllers.forEach(function (ctrl, i) {\n              var _ctrl$queue;\n\n              return (_ctrl$queue = ctrl.queue).push.apply(_ctrl$queue, updates[i]);\n            });\n            return start();\n          });\n        }\n      });\n    }\n  });\n}\n/**\n * Animated works by building a directed acyclic graph of dependencies\n * transparently when you render your Animated components.\n *\n *               new Animated.Value(0)\n *     .interpolate()        .interpolate()    new Animated.Value(1)\n *         opacity               translateY      scale\n *          style                         transform\n *         View#234                         style\n *                                         View#123\n *\n * A) Top Down phase\n * When an AnimatedValue is updated, we recursively go down through this\n * graph in order to find leaf nodes: the views that we flag as needing\n * an update.\n *\n * B) Bottom Up phase\n * When a view is flagged as needing an update, we recursively go back up\n * in order to build the new value that it needs. The reason why we need\n * this two-phases process is to deal with composite props such as\n * transform which can receive values from multiple parents.\n */\n\n\nfunction addAnimatedStyles(node, styles) {\n  if ('update' in node) {\n    styles.add(node);\n  } else {\n    node.getChildren().forEach(function (child) {\n      return addAnimatedStyles(child, styles);\n    });\n  }\n}\n\nvar AnimatedValue =\n/*#__PURE__*/\nfunction (_Animated) {\n  _inheritsLoose(AnimatedValue, _Animated);\n\n  function AnimatedValue(_value) {\n    var _this;\n\n    _this = _Animated.call(this) || this;\n    _this.animatedStyles = new Set();\n    _this.value = void 0;\n    _this.startPosition = void 0;\n    _this.lastPosition = void 0;\n    _this.lastVelocity = void 0;\n    _this.startTime = void 0;\n    _this.lastTime = void 0;\n    _this.done = false;\n\n    _this.setValue = function (value, flush) {\n      if (flush === void 0) {\n        flush = true;\n      }\n\n      _this.value = value;\n      if (flush) _this.flush();\n    };\n\n    _this.value = _value;\n    _this.startPosition = _value;\n    _this.lastPosition = _value;\n    return _this;\n  }\n\n  var _proto = AnimatedValue.prototype;\n\n  _proto.flush = function flush() {\n    if (this.animatedStyles.size === 0) {\n      addAnimatedStyles(this, this.animatedStyles);\n    }\n\n    this.animatedStyles.forEach(function (animatedStyle) {\n      return animatedStyle.update();\n    });\n  };\n\n  _proto.clearStyles = function clearStyles() {\n    this.animatedStyles.clear();\n  };\n\n  _proto.getValue = function getValue() {\n    return this.value;\n  };\n\n  _proto.interpolate = function interpolate(range, output) {\n    return new AnimatedInterpolation(this, range, output);\n  };\n\n  _proto.reset = function reset(isActive) {\n    this.startPosition = this.value;\n    this.lastPosition = this.value;\n    this.lastVelocity = isActive ? this.lastVelocity : undefined;\n    this.lastTime = isActive ? this.lastTime : undefined;\n    this.startTime = now();\n    this.done = false;\n    this.animatedStyles.clear();\n  };\n\n  return AnimatedValue;\n}(Animated);\n\nvar AnimatedValueArray =\n/*#__PURE__*/\nfunction (_AnimatedArray) {\n  _inheritsLoose(AnimatedValueArray, _AnimatedArray);\n\n  function AnimatedValueArray(values) {\n    var _this;\n\n    _this = _AnimatedArray.call(this) || this;\n    _this.payload = values;\n    return _this;\n  }\n\n  var _proto = AnimatedValueArray.prototype;\n\n  _proto.setValue = function setValue(value, flush) {\n    var _this2 = this;\n\n    if (flush === void 0) {\n      flush = true;\n    }\n\n    if (Array.isArray(value)) {\n      if (value.length === this.payload.length) {\n        value.forEach(function (v, i) {\n          return _this2.payload[i].setValue(v, flush);\n        });\n      }\n    } else {\n      this.payload.forEach(function (p) {\n        return p.setValue(value, flush);\n      });\n    }\n  };\n\n  _proto.getValue = function getValue() {\n    return this.payload.map(function (v) {\n      return v.getValue();\n    });\n  };\n\n  _proto.interpolate = function interpolate(range, output) {\n    return new AnimatedInterpolation(this, range, output);\n  };\n\n  return AnimatedValueArray;\n}(AnimatedArray);\n\nvar active = false;\nvar controllers = new Set();\n\nvar update = function update() {\n  if (!active) return false;\n  var time = now();\n\n  for (var _iterator = controllers, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var controller = _ref;\n    var isActive = false; // Number of updated animations\n\n    var updateCount = 0;\n\n    for (var configIdx = 0; configIdx < controller.configs.length; configIdx++) {\n      var config = controller.configs[configIdx];\n      var endOfAnimation = void 0,\n          lastTime = void 0;\n\n      for (var valIdx = 0; valIdx < config.animatedValues.length; valIdx++) {\n        var animated = config.animatedValues[valIdx];\n        if (animated.done) continue;\n        updateCount++;\n        var to = config.toValues[valIdx];\n        var isAnimated = to instanceof Animated;\n        if (isAnimated) to = to.getValue(); // Jump to end value for immediate animations\n\n        if (config.immediate) {\n          animated.setValue(to);\n          animated.done = true;\n          continue;\n        }\n\n        var from = config.fromValues[valIdx]; // Break animation when string values are involved\n\n        if (typeof from === 'string' || typeof to === 'string') {\n          animated.setValue(to);\n          animated.done = true;\n          continue;\n        }\n\n        var position = animated.lastPosition;\n        var velocity = Array.isArray(config.initialVelocity) ? config.initialVelocity[valIdx] : config.initialVelocity;\n\n        if (config.duration !== void 0) {\n          /** Duration easing */\n          position = from + config.easing((time - animated.startTime) / config.duration) * (to - from);\n          endOfAnimation = time >= animated.startTime + config.duration;\n        } else if (config.decay) {\n          /** Decay easing */\n          position = from + velocity / (1 - 0.998) * (1 - Math.exp(-(1 - 0.998) * (time - animated.startTime)));\n          endOfAnimation = Math.abs(animated.lastPosition - position) < 0.1;\n          if (endOfAnimation) to = position;\n        } else {\n          /** Spring easing */\n          lastTime = animated.lastTime !== void 0 ? animated.lastTime : time;\n          velocity = animated.lastVelocity !== void 0 ? animated.lastVelocity : config.initialVelocity; // If we lost a lot of frames just jump to the end.\n\n          if (time > lastTime + 64) lastTime = time; // http://gafferongames.com/game-physics/fix-your-timestep/\n\n          var numSteps = Math.floor(time - lastTime);\n\n          for (var i = 0; i < numSteps; ++i) {\n            var force = -config.tension * (position - to);\n            var damping = -config.friction * velocity;\n            var acceleration = (force + damping) / config.mass;\n            velocity = velocity + acceleration * 1 / 1000;\n            position = position + velocity * 1 / 1000;\n          } // Conditions for stopping the spring animation\n\n\n          var isOvershooting = config.clamp && config.tension !== 0 ? from < to ? position > to : position < to : false;\n          var isVelocity = Math.abs(velocity) <= config.precision;\n          var isDisplacement = config.tension !== 0 ? Math.abs(to - position) <= config.precision : true;\n          endOfAnimation = isOvershooting || isVelocity && isDisplacement;\n          animated.lastVelocity = velocity;\n          animated.lastTime = time;\n        } // Trails aren't done until their parents conclude\n\n\n        if (isAnimated && !config.toValues[valIdx].done) endOfAnimation = false;\n\n        if (endOfAnimation) {\n          // Ensure that we end up with a round value\n          if (animated.value !== to) position = to;\n          animated.done = true;\n        } else isActive = true;\n\n        animated.setValue(position);\n        animated.lastPosition = position;\n      } // Keep track of updated values only when necessary\n\n\n      if (controller.props.onFrame) {\n        controller.values[config.key] = config.animated.getValue();\n      }\n    }\n\n    controller.onFrame(isActive, updateCount);\n  } // Loop over as long as there are controllers ...\n\n\n  if (controllers.size) {\n    if (manualFrameloop) manualFrameloop();else requestFrame(update);\n  } else {\n    active = false;\n  }\n\n  return active;\n};\n\nvar start = function start(controller) {\n  controllers.add(controller);\n\n  if (!active) {\n    active = true;\n    if (manualFrameloop) requestFrame(manualFrameloop);else requestFrame(update);\n  }\n};\n\nvar stop = function stop(controller) {\n  controllers[\"delete\"](controller);\n}; // Default easing\n\n\nvar linear = function linear(t) {\n  return t;\n};\n\nvar emptyObj = Object.freeze({});\nvar nextId = 1;\n\nvar Controller =\n/*#__PURE__*/\nfunction () {\n  function Controller(props) {\n    this.id = nextId++;\n    this.idle = true;\n    this.props = {};\n    this.queue = [];\n    this.timestamps = {};\n    this.values = {};\n    this.merged = {};\n    this.animated = {};\n    this.animations = {};\n    this.configs = [];\n    this.onEndQueue = [];\n    this.runCount = 0;\n    if (props) this.update(props).start();\n  }\n  /**\n   * Push props into the update queue. The props are used after `start` is\n   * called and any delay is over. The props are intelligently diffed to ensure\n   * that later calls to this method properly override any delayed props.\n   * The `propsArg` argument is always copied before mutations are made.\n   */\n\n\n  var _proto = Controller.prototype;\n\n  _proto.update = function update$$1(propsArg) {\n    if (!propsArg) return this;\n    var props = interpolateTo(propsArg); // For async animations, the `from` prop must be defined for\n    // the Animated nodes to exist before animations have started.\n\n    this._ensureAnimated(props.from);\n\n    this._ensureAnimated(props.to);\n\n    props.timestamp = now(); // The `delay` prop of every update must be a number >= 0\n\n    if (is.fun(props.delay) && is.obj(props.to)) {\n      var from = props.from || emptyObj;\n\n      for (var _key in props.to) {\n        var _to, _ref;\n\n        this.queue.push(_extends({}, props, {\n          to: (_to = {}, _to[_key] = props.to[_key], _to),\n          from: _key in from ? (_ref = {}, _ref[_key] = from[_key], _ref) : void 0,\n          delay: Math.max(0, Math.round(props.delay(_key)))\n        }));\n      }\n    } else {\n      props.delay = is.num(props.delay) ? Math.max(0, Math.round(props.delay)) : 0; // Coerce falsy values to undefined for these props\n\n      if (!props.to) props.to = void 0;\n      if (!props.from) props.from = void 0;\n      this.queue.push(props);\n    }\n\n    return this;\n  }\n  /**\n   * Flush the update queue.\n   * If the queue is empty, try starting the frameloop.\n   */\n  ;\n\n  _proto.start = function start$$1(onEnd) {\n    if (this.queue.length) this._flush(onEnd);else this._start(onEnd);\n    return this;\n  }\n  /** Stop one animation or all animations */\n  ;\n\n  _proto.stop = function stop$$1() {\n    var _this = this;\n\n    for (var _len = arguments.length, keys = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n      keys[_key2] = arguments[_key2];\n    }\n\n    var finished = false;\n\n    if (is.boo(keys[0])) {\n      var _keys = keys;\n      finished = _keys[0];\n      keys = _keys.slice(1);\n    } // Stop animations by key\n\n\n    if (keys.length) {\n      var _loop = function _loop() {\n        if (_isArray) {\n          if (_i >= _iterator.length) return \"break\";\n          _ref2 = _iterator[_i++];\n        } else {\n          _i = _iterator.next();\n          if (_i.done) return \"break\";\n          _ref2 = _i.value;\n        }\n\n        var key = _ref2;\n\n        var index = _this.configs.findIndex(function (config) {\n          return key === config.key;\n        });\n\n        _this._stopAnimation(key);\n\n        _this.configs[index] = _this.animations[key];\n      };\n\n      for (var _iterator = keys, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n        var _ref2;\n\n        var _ret = _loop();\n\n        if (_ret === \"break\") break;\n      }\n    } // Stop all animations\n    else if (this.runCount) {\n        // Stop all async animations\n        this.animations = _extends({}, this.animations); // Update the animation configs\n\n        this.configs.forEach(function (config) {\n          return _this._stopAnimation(config.key);\n        });\n        this.configs = Object.values(this.animations); // Exit the frameloop\n\n        this._stop(finished);\n      }\n\n    return this;\n  }\n  /** @internal Called by the frameloop */\n  ;\n\n  _proto.onFrame = function onFrame(isActive, updateCount) {\n    if (updateCount) {\n      var onFrame = this.props.onFrame;\n      if (onFrame) onFrame(this.values);\n    }\n\n    if (!isActive) this._stop(true);\n  }\n  /** Reset the internal state */\n  ;\n\n  _proto.destroy = function destroy() {\n    this.stop();\n    this.props = {};\n    this.timestamps = {};\n    this.values = {};\n    this.merged = {};\n    this.animated = {};\n    this.animations = {};\n    this.configs = [];\n  }\n  /**\n   * Set a prop for the next animations where the prop is undefined. The given\n   * value is overridden by the next update where the prop is defined.\n   *\n   * Ongoing animations are not changed.\n   */\n  ;\n\n  _proto.setProp = function setProp(key, value) {\n    this.props[key] = value;\n    this.timestamps[key] = now();\n    return this;\n  } // Create an Animated node if none exists.\n  ;\n\n  _proto._ensureAnimated = function _ensureAnimated(values) {\n    if (!is.obj(values)) return;\n\n    for (var _key3 in values) {\n      if (this.animated[_key3]) continue;\n      var value = values[_key3];\n      var animated = createAnimated(value);\n\n      if (animated) {\n        this.animated[_key3] = animated;\n\n        this._stopAnimation(_key3);\n      } else {\n        console.warn('Given value not animatable:', value);\n      }\n    }\n  } // Listen for all animations to end.\n  ;\n\n  _proto._onEnd = function _onEnd(onEnd) {\n    if (this.runCount) this.onEndQueue.push(onEnd);else onEnd(true);\n  } // Add this controller to the frameloop.\n  ;\n\n  _proto._start = function _start(onEnd) {\n    if (onEnd) this._onEnd(onEnd);\n\n    if (this.idle && this.runCount) {\n      this.idle = false;\n      start(this);\n    }\n  } // Remove this controller from the frameloop, and notify any listeners.\n  ;\n\n  _proto._stop = function _stop(finished) {\n    this.idle = true;\n    stop(this);\n    var onEndQueue = this.onEndQueue;\n\n    if (onEndQueue.length) {\n      this.onEndQueue = [];\n      onEndQueue.forEach(function (onEnd) {\n        return onEnd(finished);\n      });\n    }\n  } // Execute the current queue of prop updates.\n  ;\n\n  _proto._flush = function _flush(onEnd) {\n    var _this2 = this;\n\n    var queue = this.queue.reduce(reduceDelays, []);\n    this.queue.length = 0; // Track the number of active `_run` calls.\n\n    var runsLeft = Object.keys(queue).length;\n    this.runCount += runsLeft; // Never assume that the last update always finishes last, since that's\n    // not true when 2+ async updates have indeterminate durations.\n\n    var onRunEnd = function onRunEnd(finished) {\n      _this2.runCount--;\n      if (--runsLeft) return;\n      if (onEnd) onEnd(finished);\n\n      if (!_this2.runCount && finished) {\n        var onRest = _this2.props.onRest;\n        if (onRest) onRest(_this2.merged);\n      }\n    };\n\n    queue.forEach(function (props, delay) {\n      if (delay) setTimeout(function () {\n        return _this2._run(props, onRunEnd);\n      }, delay);else _this2._run(props, onRunEnd);\n    });\n  } // Update the props and animations\n  ;\n\n  _proto._run = function _run(props, onEnd) {\n    if (is.arr(props.to) || is.fun(props.to)) {\n      this._runAsync(props, onEnd);\n    } else if (this._diff(props)) {\n      this._animate(props)._start(onEnd);\n    } else {\n      this._onEnd(onEnd);\n    }\n  } // Start an async chain or an async script.\n  ;\n\n  _proto._runAsync = function _runAsync(_ref3, onEnd) {\n    var _this3 = this;\n\n    var to = _ref3.to,\n        props = _objectWithoutPropertiesLoose(_ref3, [\"to\"]); // Merge other props immediately.\n\n\n    if (this._diff(props)) {\n      this._animate(props);\n    } // Async scripts can be declaratively cancelled.\n\n\n    if (props.cancel === true) {\n      this.props.asyncTo = void 0;\n      return onEnd(false);\n    } // Never run more than one script at a time.\n\n\n    if (!this._diff({\n      asyncTo: to,\n      timestamp: props.timestamp\n    })) {\n      return onEnd(false);\n    }\n\n    var animations = this.animations;\n\n    var isCancelled = function isCancelled() {\n      return (// The `stop` and `destroy` methods replace the `animations` map.\n        animations !== _this3.animations || // Async scripts are cancelled when a new chain/script begins.\n        is.fun(to) && to !== _this3.props.asyncTo\n      );\n    };\n\n    var last;\n\n    var next = function next(props) {\n      if (isCancelled()) throw _this3;\n      return (last = new Promise(function (done) {\n        _this3.update(props).start(done);\n      })).then(function () {\n        if (isCancelled()) throw _this3;\n      });\n    };\n\n    var queue = Promise.resolve();\n\n    if (is.arr(to)) {\n      to.forEach(function (props) {\n        return queue = queue.then(function () {\n          return next(props);\n        });\n      });\n    } else if (is.fun(to)) {\n      queue = queue.then(function () {\n        return to(next, _this3.stop.bind(_this3)) // Always wait for the last update.\n        .then(function () {\n          return last;\n        });\n      });\n    }\n\n    queue[\"catch\"](function (err) {\n      return err !== _this3 && console.error(err);\n    }).then(function () {\n      return onEnd(!isCancelled());\n    });\n  } // Merge every fresh prop. Returns true if one or more props changed.\n  // These props are ignored: (config, immediate, reverse)\n  ;\n\n  _proto._diff = function _diff(_ref4) {\n    var _this4 = this;\n\n    var timestamp = _ref4.timestamp,\n        config = _ref4.config,\n        immediate = _ref4.immediate,\n        reverse = _ref4.reverse,\n        props = _objectWithoutPropertiesLoose(_ref4, [\"timestamp\", \"config\", \"immediate\", \"reverse\"]);\n\n    var changed = false; // Ensure the newer timestamp is used.\n\n    var diffTimestamp = function diffTimestamp(keyPath) {\n      var previous = _this4.timestamps[keyPath];\n\n      if (is.und(previous) || timestamp >= previous) {\n        _this4.timestamps[keyPath] = timestamp;\n        return true;\n      }\n\n      return false;\n    }; // Generalized diffing algorithm\n\n\n    var diffProp = function diffProp(keys, value, parent) {\n      if (is.und(value)) return;\n      var lastKey = keys[keys.length - 1];\n\n      if (is.obj(value)) {\n        if (!is.obj(parent[lastKey])) parent[lastKey] = {};\n\n        for (var _key4 in value) {\n          diffProp(keys.concat(_key4), value[_key4], parent[lastKey]);\n        }\n      } else if (diffTimestamp(keys.join('.'))) {\n        var oldValue = parent[lastKey];\n\n        if (!is.equ(value, oldValue)) {\n          changed = true;\n          parent[lastKey] = value;\n        }\n      }\n    };\n\n    if (reverse) {\n      var to = props.to;\n      props.to = props.from;\n      props.from = is.obj(to) ? to : void 0;\n    }\n\n    for (var _key5 in props) {\n      diffProp([_key5], props[_key5], this.props);\n    } // These props only affect one update\n\n\n    if (props.reset) this.props.reset = false;\n    if (props.cancel) this.props.cancel = false;\n    return changed;\n  } // Return true if the given prop was changed by this update\n  ;\n\n  _proto._isModified = function _isModified(props, prop) {\n    return this.timestamps[prop] === props.timestamp;\n  } // Update the animation configs. The given props override any default props.\n  ;\n\n  _proto._animate = function _animate(props) {\n    var _this5 = this;\n\n    var _this$props = this.props,\n        _this$props$from = _this$props.from,\n        from = _this$props$from === void 0 ? emptyObj : _this$props$from,\n        _this$props$to = _this$props.to,\n        to = _this$props$to === void 0 ? emptyObj : _this$props$to,\n        attach = _this$props.attach,\n        onStart = _this$props.onStart;\n\n    var isPrevented = function isPrevented(_) {\n      return false;\n    };\n\n    if (props.cancel && this._isModified(props, 'cancel')) {\n      // Stop all animations when `cancel` is true\n      if (props.cancel === true) {\n        return this.stop();\n      } // Prevent matching properties from animating when\n      // `cancel` is a string or array of strings\n\n\n      var keys = toArray(props.cancel);\n\n      if (is.arr(keys) && keys.length) {\n        isPrevented = function isPrevented(key) {\n          return keys.indexOf(key) >= 0;\n        };\n\n        this.stop.apply(this, keys);\n      }\n    } // Merge `from` values with `to` values\n\n\n    this.merged = _extends({}, from, to); // True if any animation was updated\n\n    var changed = false; // The animations that are starting or restarting\n\n    var started = []; // Attachment handling, trailed springs can \"attach\" themselves to a previous spring\n\n    var target = attach && attach(this); // Reduces input { key: value } pairs into animation objects\n\n    for (var _key6 in this.merged) {\n      if (isPrevented(_key6)) continue;\n      var state = this.animations[_key6];\n\n      if (!state) {\n        console.warn(\"Failed to animate key: \\\"\" + _key6 + \"\\\"\\n\" + (\"Did you forget to define \\\"from.\" + _key6 + \"\\\" for an async animation?\"));\n        continue;\n      } // Reuse the Animated nodes whenever possible\n\n\n      var animated = state.animated,\n          animatedValues = state.animatedValues;\n      var value = this.merged[_key6];\n      var goalValue = computeGoalValue(value); // Stop animations with a goal value equal to its current value.\n\n      if (!props.reset && is.equ(goalValue, animated.getValue())) {\n        // The animation might be stopped already.\n        if (!state.idle) {\n          changed = true;\n\n          this._stopAnimation(_key6);\n        }\n\n        continue;\n      } // Replace an animation when its goal value is changed (or it's been reset)\n\n\n      if (props.reset || !is.equ(goalValue, state.goalValue)) {\n        var _ret2 = function () {\n          var _ref5 = is.und(props.immediate) ? _this5.props : props,\n              immediate = _ref5.immediate;\n\n          immediate = !!callProp(immediate, _key6);\n          var isActive = animatedValues.some(function (v) {\n            return !v.done;\n          });\n          var fromValue = !is.und(from[_key6]) ? computeGoalValue(from[_key6]) : goalValue; // Animatable strings use interpolation\n\n          var isInterpolated = isAnimatableString(value);\n\n          if (isInterpolated) {\n            var output = [props.reset ? fromValue : animated.getValue(), goalValue];\n            var input = animatedValues[0];\n\n            if (input) {\n              input.setValue(0, false);\n              input.reset(isActive);\n            } else {\n              input = new AnimatedValue(0);\n            }\n\n            try {\n              var prev = animated;\n              animated = input.interpolate({\n                output: output\n              });\n              moveChildren(prev, animated);\n            } catch (err) {\n              console.warn('Failed to interpolate string from \"%s\" to \"%s\"', output[0], output[1]);\n              console.error(err);\n              return \"continue\";\n            }\n\n            if (immediate) {\n              input.setValue(1, false);\n            }\n          } else {\n            // Convert values into Animated nodes (reusing nodes whenever possible)\n            if (is.arr(value)) {\n              if (animated instanceof AnimatedValueArray) {\n                if (props.reset) animated.setValue(fromValue, false);\n                animatedValues.forEach(function (v) {\n                  return v.reset(isActive);\n                });\n              } else {\n                var _prev = animated;\n                animated = createAnimated(fromValue);\n                moveChildren(_prev, animated);\n              }\n            } else {\n              if (animated instanceof AnimatedValue) {\n                if (props.reset) animated.setValue(fromValue, false);\n                animated.reset(isActive);\n              } else {\n                var _prev2 = animated;\n                animated = new AnimatedValue(fromValue);\n                moveChildren(_prev2, animated);\n              }\n            }\n\n            if (immediate) {\n              animated.setValue(goalValue, false);\n            }\n          } // Only change the \"config\" of updated animations.\n\n\n          var config = callProp(props.config, _key6) || callProp(_this5.props.config, _key6) || emptyObj;\n\n          if (!immediate) {\n            started.push(_key6);\n          }\n\n          changed = true;\n          animatedValues = toArray(animated.getPayload());\n          _this5.animations[_key6] = {\n            key: _key6,\n            idle: false,\n            goalValue: goalValue,\n            toValues: toArray(target ? target.animations[_key6].animated.getPayload() : isInterpolated && 1 || goalValue),\n            fromValues: animatedValues.map(function (v) {\n              return v.getValue();\n            }),\n            animated: animated,\n            animatedValues: animatedValues,\n            immediate: immediate,\n            duration: config.duration,\n            easing: withDefault(config.easing, linear),\n            decay: config.decay,\n            mass: withDefault(config.mass, 1),\n            tension: withDefault(config.tension, 170),\n            friction: withDefault(config.friction, 26),\n            initialVelocity: withDefault(config.velocity, 0),\n            clamp: withDefault(config.clamp, false),\n            precision: withDefault(config.precision, 0.01),\n            config: config\n          };\n        }();\n\n        if (_ret2 === \"continue\") continue;\n      }\n    }\n\n    if (changed) {\n      if (onStart && started.length) {\n        started.forEach(function (key) {\n          return onStart(_this5.animations[key]);\n        });\n      } // Make animations available to the frameloop\n\n\n      var configs = this.configs = [];\n      var values = this.values = {};\n      var nodes = this.animated = {};\n\n      for (var _key7 in this.animations) {\n        var config = this.animations[_key7];\n        configs.push(config);\n        values[_key7] = config.animated.getValue();\n        nodes[_key7] = config.animated;\n      }\n    }\n\n    return this;\n  } // Stop an animation by its key\n  ;\n\n  _proto._stopAnimation = function _stopAnimation(key) {\n    if (!this.animated[key]) return;\n    var state = this.animations[key];\n    if (state && state.idle) return;\n\n    var _ref6 = state || emptyObj,\n        animated = _ref6.animated,\n        animatedValues = _ref6.animatedValues;\n\n    if (!state) {\n      animated = this.animated[key];\n      animatedValues = toArray(animated.getPayload());\n    } // Tell the frameloop to stop animating these values\n\n\n    animatedValues.forEach(function (v) {\n      return v.done = true;\n    }); // Prevent any pending updates to this key\n\n    this.timestamps['to.' + key] = now(); // The current value becomes the goal value,\n    // which ensures the integrity of the diffing algorithm.\n\n    var goalValue = animated.getValue();\n\n    if (this.props.to) {\n      this.props.to[key] = goalValue;\n    } // Remove unused data from this key's animation config\n\n\n    this.animations[key] = {\n      key: key,\n      idle: true,\n      goalValue: goalValue,\n      animated: animated,\n      animatedValues: animatedValues\n    };\n  };\n\n  return Controller;\n}();\n/** Wrap any value with an `Animated` node */\n\n\nfunction createAnimated(value) {\n  return is.arr(value) ? new AnimatedValueArray(value.map(function (value) {\n    var animated = createAnimated(value);\n    var payload = animated.getPayload();\n    return animated instanceof AnimatedInterpolation ? payload[0] : payload;\n  })) : isAnimatableString(value) ? new AnimatedValue(0).interpolate({\n    output: [value, value]\n  }) : new AnimatedValue(value);\n}\n/**\n * Replace an `Animated` node in the graph.\n * This is most useful for async updates, which don't cause a re-render.\n */\n\n\nfunction moveChildren(prev, next) {\n  var children = prev.getChildren().slice();\n  children.forEach(function (child) {\n    prev.removeChild(child);\n    next.addChild(child); // Replace `prev` with `next` in child payloads\n\n    var payload = child.getPayload();\n\n    if (is.arr(payload)) {\n      var i = payload.indexOf(prev);\n\n      if (i >= 0) {\n        var copy = [].concat(payload);\n        copy[i] = next;\n        child['payload'] = copy;\n      }\n    } else if (is.obj(payload)) {\n      var entry = Object.entries(payload).find(function (entry) {\n        return entry[1] === prev;\n      });\n\n      if (entry) {\n        var _extends2;\n\n        child['payload'] = _extends({}, payload, (_extends2 = {}, _extends2[entry[0]] = next, _extends2));\n      }\n    }\n  });\n} // Merge updates with the same delay.\n// NOTE: Mutation of `props` may occur!\n\n\nfunction reduceDelays(merged, props) {\n  var prev = merged[props.delay];\n\n  if (prev) {\n    props.to = merge$1(prev.to, props.to);\n    props.from = merge$1(prev.from, props.from);\n    Object.assign(prev, props);\n  } else {\n    merged[props.delay] = props;\n  }\n\n  return merged;\n}\n\nfunction merge$1(dest, src) {\n  return is.obj(dest) && is.obj(src) ? _extends({}, dest, src) : src || dest;\n} // Not all strings can be animated (eg: {display: \"none\"})\n\n\nfunction isAnimatableString(value) {\n  if (!is.str(value)) return false;\n  return value.startsWith('#') || /\\d/.test(value) || !!colorNames[value];\n} // Compute the goal value, converting \"red\" to \"rgba(255, 0, 0, 1)\" in the process\n\n\nfunction computeGoalValue(value) {\n  return is.arr(value) ? value.map(computeGoalValue) : isAnimatableString(value) ? interpolation({\n    range: [0, 1],\n    output: [value, value]\n  })(1) : value;\n}\n/** API\n * const props = useSprings(number, [{ ... }, { ... }, ...])\n * const [props, set] = useSprings(number, (i, controller) => ({ ... }))\n */\n\n\nvar useSprings = function useSprings(length, propsArg) {\n  var mounted = React.useRef(false);\n  var ctrl = React.useRef();\n  var isFn = is.fun(propsArg); // The `propsArg` coerced into an array\n\n  var props = isFn ? [] : propsArg; // The controller maintains the animation values, starts and stops animations\n\n  var _useMemo = React.useMemo(function () {\n    var ref, controllers;\n    return [// Recreate the controllers whenever `length` changes\n    controllers = fillArray(length, function (i) {\n      var c = new Controller();\n      var p = props[i] || (props[i] = callProp(propsArg, i, c));\n      if (i === 0) ref = p.ref;\n      return c.update(p);\n    }), // This updates the controllers with new props\n    function (props) {\n      var isFn = is.fun(props);\n      if (!isFn) props = toArray(props);\n      controllers.forEach(function (c, i) {\n        c.update(isFn ? callProp(props, i, c) : props[i]);\n        if (!ref) c.start();\n      });\n    }, // The imperative API is accessed via ref\n    ref, ref && {\n      start: function start() {\n        return Promise.all(controllers.map(function (c) {\n          return new Promise(function (r) {\n            return c.start(r);\n          });\n        }));\n      },\n      stop: function stop(finished) {\n        return controllers.forEach(function (c) {\n          return c.stop(finished);\n        });\n      },\n      controllers: controllers\n    }];\n  }, [length]),\n      controllers = _useMemo[0],\n      setProps = _useMemo[1],\n      ref = _useMemo[2],\n      api = _useMemo[3]; // Attach the imperative API to its ref\n\n\n  React.useImperativeHandle(ref, function () {\n    return api;\n  }, [api]); // Once mounted, update the local state and start any animations.\n\n  React.useEffect(function () {\n    if (!isFn || ctrl.current !== controllers) {\n      controllers.forEach(function (c, i) {\n        var p = props[i]; // Set the default props for async updates\n\n        c.setProp('config', p.config);\n        c.setProp('immediate', p.immediate);\n      });\n    }\n\n    if (ctrl.current !== controllers) {\n      if (ctrl.current) ctrl.current.forEach(function (c) {\n        return c.destroy();\n      });\n      ctrl.current = controllers;\n    }\n\n    if (mounted.current) {\n      if (!isFn) setProps(props);\n    } else if (!ref) {\n      controllers.forEach(function (c) {\n        return c.start();\n      });\n    }\n  }); // Update mounted flag and destroy controller on unmount\n\n  React.useEffect(function () {\n    mounted.current = true;\n    return function () {\n      return ctrl.current.forEach(function (c) {\n        return c.destroy();\n      });\n    };\n  }, []); // Return animated props, or, anim-props + the update-setter above\n\n  var animatedProps = controllers.map(function (c) {\n    return c.animated;\n  });\n  return isFn ? [animatedProps, setProps, function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return ctrl.current.forEach(function (c) {\n      return c.stop.apply(c, args);\n    });\n  }] : animatedProps;\n};\n/** API\n * const props = useSpring({ ... })\n * const [props, set] = useSpring(() => ({ ... }))\n */\n\n\nvar useSpring = function useSpring(props) {\n  var isFn = is.fun(props);\n\n  var _useSprings = useSprings(1, isFn ? props : [props]),\n      result = _useSprings[0],\n      set = _useSprings[1],\n      stop = _useSprings[2];\n\n  return isFn ? [result[0], set, stop] : result;\n};\n/** API\n * const trails = useTrail(number, { ... })\n * const [trails, set] = useTrail(number, () => ({ ... }))\n */\n\n\nvar useTrail = function useTrail(length, props) {\n  var mounted = React.useRef(false);\n  var isFn = is.fun(props);\n  var updateProps = callProp(props);\n  var instances = React.useRef();\n\n  var _useSprings = useSprings(length, function (i, ctrl) {\n    if (i === 0) instances.current = [];\n    instances.current.push(ctrl);\n    return _extends({}, updateProps, {\n      config: callProp(updateProps.config, i),\n      attach: i > 0 && function () {\n        return instances.current[i - 1];\n      }\n    });\n  }),\n      result = _useSprings[0],\n      set = _useSprings[1],\n      stop = _useSprings[2]; // Set up function to update controller\n\n\n  var updateCtrl = React.useMemo(function () {\n    return function (props) {\n      return set(function (i, ctrl) {\n        var last = props.reverse ? i === 0 : length - 1 === i;\n        var attachIdx = props.reverse ? i + 1 : i - 1;\n        var attachController = instances.current[attachIdx];\n        return _extends({}, props, {\n          config: callProp(props.config || updateProps.config, i),\n          attach: !!attachController && function () {\n            return attachController;\n          }\n        });\n      });\n    };\n  }, [length, updateProps.config]); // Update controller if props aren't functional\n\n  React.useEffect(function () {\n    return void (mounted.current && !isFn && updateCtrl(props));\n  }); // Update mounted flag and destroy controller on unmount\n\n  React.useEffect(function () {\n    return void (mounted.current = true);\n  }, []);\n  return isFn ? [result, updateCtrl, stop] : result;\n};\n/** API\n * const transitions = useTransition(items, itemKeys, { ... })\n * const [transitions, update] = useTransition(items, itemKeys, () => ({ ... }))\n */\n\n\nvar guid = 0;\nvar INITIAL = 'initial';\nvar ENTER = 'enter';\nvar UPDATE = 'update';\nvar LEAVE = 'leave';\n\nvar makeKeys = function makeKeys(items, keys) {\n  return (typeof keys === 'function' ? items.map(keys) : toArray(keys)).map(String);\n};\n\nvar makeConfig = function makeConfig(props) {\n  var items = props.items,\n      keys = props.keys,\n      rest = _objectWithoutPropertiesLoose(props, [\"items\", \"keys\"]);\n\n  items = toArray(is.und(items) ? null : items);\n  return _extends({\n    items: items,\n    keys: makeKeys(items, keys)\n  }, rest);\n};\n\nfunction useTransition(input, keyTransform, props) {\n  props = makeConfig(_extends({}, props, {\n    items: input,\n    keys: keyTransform || function (i) {\n      return i;\n    }\n  }));\n\n  var _props = props,\n      _props$lazy = _props.lazy,\n      lazy = _props$lazy === void 0 ? false : _props$lazy,\n      _props$unique = _props.unique,\n      from = _props.from,\n      enter = _props.enter,\n      leave = _props.leave,\n      update = _props.update,\n      onDestroyed = _props.onDestroyed,\n      keys = _props.keys,\n      items = _props.items,\n      onFrame = _props.onFrame,\n      _onRest = _props.onRest,\n      onStart = _props.onStart,\n      ref = _props.ref,\n      extra = _objectWithoutPropertiesLoose(_props, [\"lazy\", \"unique\", \"from\", \"enter\", \"leave\", \"update\", \"onDestroyed\", \"keys\", \"items\", \"onFrame\", \"onRest\", \"onStart\", \"ref\"]);\n\n  var forceUpdate = useForceUpdate();\n  var mounted = React.useRef(false);\n  var state = React.useRef({\n    mounted: false,\n    first: true,\n    deleted: [],\n    current: {},\n    transitions: [],\n    prevProps: {},\n    paused: !!props.ref,\n    instances: !mounted.current && new Map(),\n    forceUpdate: forceUpdate\n  });\n  React.useImperativeHandle(props.ref, function () {\n    return {\n      start: function start() {\n        return Promise.all(Array.from(state.current.instances).map(function (_ref) {\n          var c = _ref[1];\n          return new Promise(function (r) {\n            return c.start(r);\n          });\n        }));\n      },\n      stop: function stop(finished) {\n        return Array.from(state.current.instances).forEach(function (_ref2) {\n          var c = _ref2[1];\n          return c.stop(finished);\n        });\n      },\n\n      get controllers() {\n        return Array.from(state.current.instances).map(function (_ref3) {\n          var c = _ref3[1];\n          return c;\n        });\n      }\n\n    };\n  }); // Update state\n\n  state.current = diffItems(state.current, props);\n\n  if (state.current.changed) {\n    // Update state\n    state.current.transitions.forEach(function (transition) {\n      var phase = transition.phase,\n          key = transition.key,\n          item = transition.item,\n          props = transition.props;\n      if (!state.current.instances.has(key)) state.current.instances.set(key, new Controller()); // Avoid calling `onStart` more than once per transition.\n\n      var started = false; // update the map object\n\n      var ctrl = state.current.instances.get(key);\n\n      var itemProps = _extends({}, extra, props, {\n        ref: ref,\n        onRest: function onRest(values) {\n          if (state.current.mounted) {\n            if (transition.destroyed) {\n              // If no ref is given delete destroyed items immediately\n              if (!ref && !lazy) cleanUp(state, key);\n              if (onDestroyed) onDestroyed(item);\n            } // A transition comes to rest once all its springs conclude\n\n\n            var curInstances = Array.from(state.current.instances);\n            var active = curInstances.some(function (_ref4) {\n              var c = _ref4[1];\n              return !c.idle;\n            });\n\n            if (!active && (ref || lazy) && state.current.deleted.length > 0) {\n              cleanUp(state);\n            }\n\n            if (_onRest) {\n              _onRest(item, phase, values);\n            }\n          }\n        },\n        onFrame: onFrame && function (values) {\n          return onFrame(item, phase, values);\n        },\n        onStart: onStart && function (animation) {\n          return started || (started = (onStart(item, phase, animation), true));\n        } // Update controller\n\n      });\n\n      ctrl.update(itemProps);\n      if (!state.current.paused) ctrl.start();\n    });\n  }\n\n  React.useEffect(function () {\n    state.current.mounted = mounted.current = true;\n    return function () {\n      state.current.mounted = mounted.current = false;\n      Array.from(state.current.instances).map(function (_ref5) {\n        var c = _ref5[1];\n        return c.destroy();\n      });\n      state.current.instances.clear();\n    };\n  }, []);\n  return state.current.transitions.map(function (_ref6) {\n    var item = _ref6.item,\n        phase = _ref6.phase,\n        key = _ref6.key;\n    return {\n      item: item,\n      key: key,\n      phase: phase,\n      props: state.current.instances.get(key).animated\n    };\n  });\n}\n\nfunction cleanUp(_ref7, filterKey) {\n  var state = _ref7.current;\n  var deleted = state.deleted;\n\n  var _loop = function _loop() {\n    if (_isArray) {\n      if (_i >= _iterator.length) return \"break\";\n      _ref9 = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) return \"break\";\n      _ref9 = _i.value;\n    }\n\n    var _ref8 = _ref9;\n    var key = _ref8.key;\n\n    var filter = function filter(t) {\n      return t.key !== key;\n    };\n\n    if (is.und(filterKey) || filterKey === key) {\n      state.instances[\"delete\"](key);\n      state.transitions = state.transitions.filter(filter);\n      state.deleted = state.deleted.filter(filter);\n    }\n  };\n\n  for (var _iterator = deleted, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref9;\n\n    var _ret = _loop();\n\n    if (_ret === \"break\") break;\n  }\n\n  state.forceUpdate();\n}\n\nfunction diffItems(_ref10, props) {\n  var first = _ref10.first,\n      current = _ref10.current,\n      deleted = _ref10.deleted,\n      prevProps = _ref10.prevProps,\n      state = _objectWithoutPropertiesLoose(_ref10, [\"first\", \"current\", \"deleted\", \"prevProps\"]);\n\n  var items = props.items,\n      keys = props.keys,\n      initial = props.initial,\n      from = props.from,\n      enter = props.enter,\n      leave = props.leave,\n      update = props.update,\n      _props$trail = props.trail,\n      trail = _props$trail === void 0 ? 0 : _props$trail,\n      unique = props.unique,\n      config = props.config,\n      _props$order = props.order,\n      order = _props$order === void 0 ? [ENTER, LEAVE, UPDATE] : _props$order;\n\n  var _makeConfig = makeConfig(prevProps),\n      _keys = _makeConfig.keys,\n      _items = _makeConfig.items;\n\n  if (props.reset) {\n    current = {};\n    state.transitions = [];\n  } // Compare next keys with current keys\n\n\n  var currentKeys = Object.keys(current);\n  var currentSet = new Set(currentKeys);\n  var nextSet = new Set(keys);\n  var addedKeys = keys.filter(function (key) {\n    return !currentSet.has(key);\n  });\n  var updatedKeys = update ? keys.filter(function (key) {\n    return currentSet.has(key);\n  }) : [];\n  var deletedKeys = state.transitions.filter(function (t) {\n    return !t.destroyed && !nextSet.has(t.originalKey);\n  }).map(function (t) {\n    return t.originalKey;\n  });\n  var delay = -trail;\n\n  var _loop2 = function _loop2() {\n    var phase = order.shift();\n\n    if (phase === ENTER) {\n      if (first && !is.und(initial)) {\n        phase = INITIAL;\n        from = initial;\n      }\n\n      addedKeys.forEach(function (key) {\n        // In unique mode, remove fading out transitions if their key comes in again\n        if (unique && deleted.find(function (d) {\n          return d.originalKey === key;\n        })) {\n          deleted = deleted.filter(function (t) {\n            return t.originalKey !== key;\n          });\n        }\n\n        var i = keys.indexOf(key);\n        var item = items[i];\n        var enterProps = callProp(enter, item, i);\n        current[key] = {\n          phase: phase,\n          originalKey: key,\n          key: unique ? String(key) : guid++,\n          item: item,\n          props: _extends({\n            delay: delay += trail,\n            config: callProp(config, item, phase),\n            from: callProp(from, item),\n            to: enterProps\n          }, is.obj(enterProps) && interpolateTo(enterProps))\n        };\n      });\n    } else if (phase === LEAVE) {\n      deletedKeys.forEach(function (key) {\n        var i = _keys.indexOf(key);\n\n        var item = _items[i];\n        var leaveProps = callProp(leave, item, i);\n        deleted.push(_extends({}, current[key], {\n          phase: phase,\n          destroyed: true,\n          left: _keys[i - 1],\n          right: _keys[i + 1],\n          props: _extends({\n            delay: delay += trail,\n            config: callProp(config, item, phase),\n            to: leaveProps\n          }, is.obj(leaveProps) && interpolateTo(leaveProps))\n        }));\n        delete current[key];\n      });\n    } else if (phase === UPDATE) {\n      updatedKeys.forEach(function (key) {\n        var i = keys.indexOf(key);\n        var item = items[i];\n        var updateProps = callProp(update, item, i);\n        current[key] = _extends({}, current[key], {\n          phase: phase,\n          props: _extends({\n            delay: delay += trail,\n            config: callProp(config, item, phase),\n            to: updateProps\n          }, is.obj(updateProps) && interpolateTo(updateProps))\n        });\n      });\n    }\n  };\n\n  while (order.length) {\n    _loop2();\n  }\n\n  var out = keys.map(function (key) {\n    return current[key];\n  });\n  out = reconcileDeleted(deleted, out);\n  return _extends({}, state, {\n    first: first && !addedKeys.length,\n    changed: !!(addedKeys.length || deletedKeys.length || updatedKeys.length),\n    transitions: out,\n    current: current,\n    deleted: deleted,\n    prevProps: props\n  });\n}\n\nvar AnimatedStyle =\n/*#__PURE__*/\nfunction (_AnimatedObject) {\n  _inheritsLoose(AnimatedStyle, _AnimatedObject);\n\n  function AnimatedStyle(style) {\n    var _this;\n\n    if (style === void 0) {\n      style = {};\n    }\n\n    _this = _AnimatedObject.call(this) || this;\n\n    if (style.transform && !(style.transform instanceof Animated)) {\n      style = applyAnimatedValues.transform(style);\n    }\n\n    _this.payload = style;\n    return _this;\n  }\n\n  return AnimatedStyle;\n}(AnimatedObject); // http://www.w3.org/TR/css3-color/#svg-color\n\n\nvar colors = {\n  transparent: 0x00000000,\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff\n}; // const INTEGER = '[-+]?\\\\d+';\n\nvar NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nvar PERCENTAGE = NUMBER + '%';\n\nfunction call() {\n  for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n    parts[_key] = arguments[_key];\n  }\n\n  return '\\\\(\\\\s*(' + parts.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nvar rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER));\nvar rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER));\nvar hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE));\nvar hsla = new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\nvar hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex6 = /^#([0-9a-fA-F]{6})$/;\nvar hex8 = /^#([0-9a-fA-F]{8})$/;\n/*\nhttps://github.com/react-community/normalize-css-color\n\nBSD 3-Clause License\n\nCopyright (c) 2016, React Community\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nfunction normalizeColor(color) {\n  var match;\n\n  if (typeof color === 'number') {\n    return color >>> 0 === color && color >= 0 && color <= 0xffffffff ? color : null;\n  } // Ordered based on occurrences on Facebook codebase\n\n\n  if (match = hex6.exec(color)) return parseInt(match[1] + 'ff', 16) >>> 0;\n  if (colors.hasOwnProperty(color)) return colors[color];\n\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    0x000000ff) >>> // a\n    0;\n  }\n\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    parse1(match[4])) >>> // a\n    0;\n  }\n\n  if (match = hex3.exec(color)) {\n    return parseInt(match[1] + match[1] + // r\n    match[2] + match[2] + // g\n    match[3] + match[3] + // b\n    'ff', // a\n    16) >>> 0;\n  } // https://drafts.csswg.org/css-color-4/#hex-notation\n\n\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n\n  if (match = hex4.exec(color)) {\n    return parseInt(match[1] + match[1] + // r\n    match[2] + match[2] + // g\n    match[3] + match[3] + // b\n    match[4] + match[4], // a\n    16) >>> 0;\n  }\n\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(parse360(match[1]), // h\n    parsePercentage(match[2]), // s\n    parsePercentage(match[3]) // l\n    ) | 0x000000ff) >>> // a\n    0;\n  }\n\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(parse360(match[1]), // h\n    parsePercentage(match[2]), // s\n    parsePercentage(match[3]) // l\n    ) | parse1(match[4])) >>> // a\n    0;\n  }\n\n  return null;\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nfunction hslToRgb(h, s, l) {\n  var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  var p = 2 * l - q;\n  var r = hue2rgb(p, q, h + 1 / 3);\n  var g = hue2rgb(p, q, h);\n  var b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\n\nfunction parse255(str) {\n  var _int = parseInt(str, 10);\n\n  if (_int < 0) return 0;\n  if (_int > 255) return 255;\n  return _int;\n}\n\nfunction parse360(str) {\n  var _int2 = parseFloat(str);\n\n  return (_int2 % 360 + 360) % 360 / 360;\n}\n\nfunction parse1(str) {\n  var num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str) {\n  // parseFloat conveniently ignores the final %\n  var _int3 = parseFloat(str);\n\n  if (_int3 < 0) return 0;\n  if (_int3 > 100) return 1;\n  return _int3 / 100;\n}\n\nfunction colorToRgba(input) {\n  var int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  var r = (int32Color & 0xff000000) >>> 24;\n  var g = (int32Color & 0x00ff0000) >>> 16;\n  var b = (int32Color & 0x0000ff00) >>> 8;\n  var a = (int32Color & 0x000000ff) / 255;\n  return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + a + \")\";\n} // Problem: https://github.com/animatedjs/animated/pull/102\n// Solution: https://stackoverflow.com/questions/638565/parsing-scientific-notation-sensibly/658662\n\n\nvar stringShapeRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g; // Covers rgb, rgba, hsl, hsla\n// Taken from https://gist.github.com/olmokramer/82ccce673f86db7cda5e\n\nvar colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi; // Covers color names (transparent, blue, etc.)\n\nvar colorNamesRegex = new RegExp(\"(\" + Object.keys(colors).join('|') + \")\", 'g');\n/**\n * Supports string shapes by extracting numbers so new values can be computed,\n * and recombines those values into new strings of the same shape.  Supports\n * things like:\n *\n *   rgba(123, 42, 99, 0.36)           // colors\n *   -45deg                            // values with units\n *   0 2px 2px 0px rgba(0, 0, 0, 0.12) // box shadows\n */\n\nvar createStringInterpolator = function createStringInterpolator(config) {\n  // Replace colors with rgba\n  var outputRange = config.output.map(function (rangeValue) {\n    return rangeValue.replace(colorRegex, colorToRgba);\n  }).map(function (rangeValue) {\n    return rangeValue.replace(colorNamesRegex, colorToRgba);\n  });\n  var outputRanges = outputRange[0].match(stringShapeRegex).map(function () {\n    return [];\n  });\n  outputRange.forEach(function (value) {\n    value.match(stringShapeRegex).forEach(function (number, i) {\n      return outputRanges[i].push(+number);\n    });\n  });\n  var interpolations = outputRange[0].match(stringShapeRegex).map(function (_value, i) {\n    return createInterpolator(_extends({}, config, {\n      output: outputRanges[i]\n    }));\n  });\n  return function (input) {\n    var i = 0;\n    return outputRange[0] // 'rgba(0, 100, 200, 0)'\n    // ->\n    // 'rgba(${interpolations[0](input)}, ${interpolations[1](input)}, ...'\n    .replace(stringShapeRegex, function () {\n      return interpolations[i++](input);\n    }) // rgba requires that the r,g,b are integers.... so we want to round them, but we *dont* want to\n    // round the opacity (4th column).\n    .replace(/rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi, function (_, p1, p2, p3, p4) {\n      return \"rgba(\" + Math.round(p1) + \", \" + Math.round(p2) + \", \" + Math.round(p3) + \", \" + p4 + \")\";\n    });\n  };\n};\n\nvar isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nvar prefixKey = function prefixKey(prefix, key) {\n  return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n};\n\nvar prefixes = ['Webkit', 'Ms', 'Moz', 'O'];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce(function (acc, prop) {\n  prefixes.forEach(function (prefix) {\n    return acc[prefixKey(prefix, prop)] = acc[prop];\n  });\n  return acc;\n}, isUnitlessNumber);\n\nfunction dangerousStyleValue(name, value, isCustomProperty) {\n  if (value == null || typeof value === 'boolean' || value === '') return '';\n  if (!isCustomProperty && typeof value === 'number' && value !== 0 && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + 'px'; // Presumes implicit 'px' suffix for unitless numbers\n\n  return ('' + value).trim();\n}\n\nvar attributeCache = {};\ninjectCreateAnimatedStyle(function (style) {\n  return new AnimatedStyle(style);\n});\ninjectDefaultElement('div');\ninjectStringInterpolator(createStringInterpolator);\ninjectColorNames(colors);\ninjectApplyAnimatedValues(function (instance, props) {\n  if (instance.nodeType && instance.setAttribute !== undefined) {\n    var style = props.style,\n        children = props.children,\n        scrollTop = props.scrollTop,\n        scrollLeft = props.scrollLeft,\n        attributes = _objectWithoutPropertiesLoose(props, [\"style\", \"children\", \"scrollTop\", \"scrollLeft\"]);\n\n    var filter = instance.nodeName === 'filter' || instance.parentNode && instance.parentNode.nodeName === 'filter';\n    if (scrollTop !== void 0) instance.scrollTop = scrollTop;\n    if (scrollLeft !== void 0) instance.scrollLeft = scrollLeft; // Set textContent, if children is an animatable value\n\n    if (children !== void 0) instance.textContent = children; // Set styles ...\n\n    for (var styleName in style) {\n      if (!style.hasOwnProperty(styleName)) continue;\n      var isCustomProperty = styleName.indexOf('--') === 0;\n      var styleValue = dangerousStyleValue(styleName, style[styleName], isCustomProperty);\n      if (styleName === 'float') styleName = 'cssFloat';\n      if (isCustomProperty) instance.style.setProperty(styleName, styleValue);else instance.style[styleName] = styleValue;\n    } // Set attributes ...\n\n\n    for (var name in attributes) {\n      // Attributes are written in dash case\n      var dashCase = filter ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, function (n) {\n        return '-' + n.toLowerCase();\n      }));\n      if (typeof instance.getAttribute(dashCase) !== 'undefined') instance.setAttribute(dashCase, attributes[name]);\n    }\n\n    return;\n  } else return false;\n}, function (style) {\n  return style;\n});\n\nfunction Spring(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n\n  var spring = useSpring(props);\n  return children(spring);\n}\n\nfunction Trail(_ref2) {\n  var items = _ref2.items,\n      children = _ref2.children,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"items\", \"children\"]);\n\n  var trails = useTrail(items.length, props);\n  return items.map(function (item, index) {\n    return children(item)(trails[index]);\n  });\n}\n\nfunction Transition(_ref3) {\n  var items = _ref3.items,\n      _ref3$keys = _ref3.keys,\n      keys = _ref3$keys === void 0 ? null : _ref3$keys,\n      children = _ref3.children,\n      props = _objectWithoutPropertiesLoose(_ref3, [\"items\", \"keys\", \"children\"]);\n\n  var transitions = useTransition(items, keys, props);\n  return transitions.map(function (_ref4, index) {\n    var item = _ref4.item,\n        key = _ref4.key,\n        props = _ref4.props,\n        slot = _ref4.slot;\n    var el = children(item, slot, index)(props);\n    return React__default.createElement(el.type, _extends({\n      key: key\n    }, el.props));\n  });\n}\n\nvar domElements = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', // SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan']; // Extend animated with all the available THREE elements\n\nvar apply = merge(createAnimatedComponent, false);\nvar extendedAnimated = apply(domElements);\nexports.apply = apply;\nexports.config = config;\nexports.animated = extendedAnimated;\nexports.a = extendedAnimated;\nexports.interpolate = interpolate$1;\nexports.Globals = Globals;\nexports.useSpring = useSpring;\nexports.useTrail = useTrail;\nexports.useTransition = useTransition;\nexports.useChain = useChain;\nexports.useSprings = useSprings;\nexports.Spring = Spring;\nexports.Trail = Trail;\nexports.Transition = Transition;","import { canUseDOM } from 'exenv';\nimport React from 'react';\n\nconst createElement = (id?: string) => {\n  const rootContainer = document.createElement('div');\n\n  if (id) rootContainer.setAttribute('id', id);\n\n  return rootContainer;\n};\n\nconst addRootElement = (rootElem: Element) => {\n  if (document.body.lastElementChild) {\n    document.body.insertBefore(\n      rootElem,\n      document.body.lastElementChild.nextElementSibling,\n    );\n  }\n};\n\nexport const useElement = (id?: string) => {\n  const element = React.useRef<Element>(null);\n\n  React.useEffect(() => {\n    const rootElement = createElement(id);\n\n    // If there is no existing DOM element, add a new one.\n    addRootElement(rootElement);\n\n    if (element.current) rootElement.appendChild(element.current);\n\n    return () => {\n      if (element.current) element.current.remove();\n      if (rootElement.childNodes.length === -1) rootElement.remove();\n    };\n  }, [id]);\n\n  const getRootElem = () => {\n    if (!element.current && canUseDOM) {\n      // @ts-ignore\n      element.current = document.createElement('div');\n    }\n    return element.current;\n  };\n\n  return getRootElem();\n};\n","import React from 'react';\n\nexport const useLockBodyScroll = ({ isLocked }: { isLocked: boolean }) => {\n  React.useEffect(() => {\n    const originalStyle = window.getComputedStyle(document.body).overflow;\n\n    const lock = () => {\n      document.body.style.overflow = 'hidden';\n    };\n\n    const unlock = () => {\n      document.body.style.overflow = originalStyle;\n    };\n\n    if (isLocked) lock();\n    else unlock();\n\n    return () => unlock();\n  }, [isLocked]);\n};\n","import createFocusTrap, { FocusTrap } from 'focus-trap';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { animated, useSpring } from 'react-spring/web.cjs';\n\nimport { springDefaultConfig } from '../../constants/Animation';\nimport { useElement, useLockBodyScroll } from '../../hooks';\n\nimport { ModalProps } from './Modal';\n\nexport const Modal = ({ useHistory = false, ...props }: ModalProps) => {\n  if (useHistory) return <HistoryModal {...props} />;\n\n  return <ModalBase {...props} />;\n};\n\nlet modalId = 0;\n\n/**\n * There are 3 ways a user may close the modal on the browser\n * 1. Back button press\n * 2. Escape key\n * 3. Manually closed from within the modal (e.g. Close button)\n * Each of them should properly restore the page user was at\n */\nclass HistoryModal extends React.Component<ModalProps> {\n  public modalId = ++modalId;\n\n  public componentDidUpdate = (previousProps: ModalProps) => {\n    const { visible } = this.props;\n\n    if (previousProps.visible !== visible) {\n      if (visible) {\n        this.updateBrowserHistory();\n      } else {\n        this.handleManuallyClosed();\n      }\n    }\n  };\n\n  public componentWillUnmount = () => {\n    this.clearBrowserState();\n  };\n\n  public updateBrowserHistory = () => {\n    // Ensure history state does not already contain our modal name to avoid double-pushing\n    if (\n      !history.state ||\n      !history.state.modal ||\n      !history.state.modal[this.modalId]\n    ) {\n      // Push to history so that the page is not lost on browser back button press\n      history.pushState(\n        {\n          ...history.state,\n          modal: {\n            ...(history.state && history.state.modal),\n            [this.modalId]: true,\n          },\n        },\n        '',\n      );\n    }\n\n    // Listen for back button presses\n    window.addEventListener('popstate', this.handlePopstate, false);\n  };\n\n  /** Back button press */\n  public handlePopstate = (event: PopStateEvent) => {\n    const { visible, onRequestClose } = this.props;\n    // Close the modal if the history state no longer contains our modal name\n    if (\n      (!event.state ||\n        !event.state.modal ||\n        !event.state.modal[this.modalId]) &&\n      onRequestClose\n    ) {\n      this.clearBrowserState();\n      onRequestClose();\n    }\n\n    // When the browser back button is pressed and uppy is now the latest entry in the history but the modal is closed, fix the history by removing the uppy history entry\n    // This occurs when another entry is added into the history state while the modal is open, and then the modal gets manually closed\n    // Solves PR #575 (https://github.com/transloadit/uppy/pull/575)\n    if (\n      !visible &&\n      event.state &&\n      event.state.modal &&\n      event.state.modal[this.modalId]\n    ) {\n      history.go(-1);\n    }\n  };\n\n  /** Escape key */\n  public handleEscapeKey = () => {\n    const { onRequestClose } = this.props;\n\n    if (\n      (history.state ||\n        history.state.modal ||\n        history.state.modal[this.modalId]) &&\n      onRequestClose\n    ) {\n      /** Clear state, so that when a falsy `visible` prop gets passed, it can check whether the state still exists in `handleManuallyClosed` */\n      this.clearBrowserState();\n      onRequestClose();\n      history.go(-1);\n    }\n  };\n\n  /** Manual */\n  public handleManuallyClosed = () => {\n    if (\n      history.state &&\n      history.state.modal &&\n      history.state.modal[this.modalId]\n    ) {\n      this.clearBrowserState();\n      history.go(-1);\n    }\n  };\n\n  public clearBrowserState = () => {\n    history.replaceState(\n      {\n        ...history.state,\n        modal: {\n          ...(history.state && history.state.modal),\n          [this.modalId]: false,\n        },\n      },\n      '',\n    );\n\n    window.removeEventListener('popstate', this.handlePopstate, false);\n  };\n\n  public render() {\n    const { ...modalProps } = this.props;\n\n    return <ModalBase {...modalProps} onRequestClose={this.handleEscapeKey} />;\n  }\n}\n\n// Temporary usage until it is integrated\n// https://github.com/necolas/react-native-web/issues/1020\n\n// eslint-disable-next-line\nconst ModalBase = (props: ModalProps): React.ReactPortal | null => {\n  const {\n    children,\n    transparent,\n    visible,\n    shouldLockBodyScroll = true,\n    onRequestClose,\n    animationType = 'none',\n  } = props;\n  const isUnmountingRef = React.useRef(false);\n  const targetElement = useElement();\n  const [isInView, setIsInView] = React.useState(visible);\n  const elementRef = React.useRef<HTMLDivElement>(null);\n  const focusTrapRef = React.useRef<FocusTrap>(null);\n\n  useLockBodyScroll({ isLocked: !!(shouldLockBodyScroll && visible) });\n\n  React.useEffect(() => {\n    const deactivateFocus = () => {\n      if (focusTrapRef.current) {\n        focusTrapRef.current.deactivate();\n        // @ts-ignore\n        focusTrapRef.current = null;\n      }\n    };\n\n    const activateFocus = () => {\n      if (elementRef.current && !focusTrapRef.current) {\n        // @ts-ignore\n        focusTrapRef.current = createFocusTrap(elementRef.current, {\n          initialFocus: elementRef.current,\n          onDeactivate: () => {\n            if (onRequestClose && visible && !isUnmountingRef.current) {\n              onRequestClose();\n            }\n          },\n        });\n\n        focusTrapRef.current.activate();\n      }\n    };\n\n    if (visible) {\n      activateFocus();\n      setIsInView(true);\n    } else {\n      deactivateFocus();\n    }\n\n    return () => {\n      isUnmountingRef.current = true;\n      deactivateFocus();\n    };\n  }, [onRequestClose, visible]);\n\n  const { opacity, y } = useSpring({\n    onRest: () => !visible && isInView && setIsInView(false),\n\n    config: springDefaultConfig,\n\n    opacity: animationType === 'fade' ? (visible ? 1 : 0) : 1,\n    y: animationType === 'slide' ? (visible ? 0 : 100) : 0,\n  });\n\n  // It will not work if targetElement is falsy so we exit early\n  // This may happen e.g. during SSR\n  if (!targetElement) return null;\n\n  return ReactDOM.createPortal(\n    <animated.div\n      tabIndex={-1}\n      ref={elementRef}\n      // @ts-ignore\n      style={{\n        backgroundColor: transparent ? 'transparent' : 'white',\n        bottom: 0,\n        display: isInView ? 'flex' : 'none',\n        flexDirection: 'column',\n        left: 0,\n        opacity,\n        position: shouldLockBodyScroll ? 'fixed' : 'absolute',\n        right: 0,\n        top: 0,\n        transform: y.interpolate(v => `translateY(${v}%)`),\n        zIndex: 1000,\n      }}\n    >\n      {visible ? children : null}\n    </animated.div>,\n    targetElement,\n  );\n};\n"],"sourceRoot":""}